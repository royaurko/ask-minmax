In [Xiang Zhang, The embedding flows of $C^{\infty}$ hyperbolic
diffeomorphisms, J. Differential Equations 250 (2011), no. 5, 2283-2298] Zhang
proved that any local smooth hyperbolic diffeomorphism whose eigenvalues are
weakly nonresonant is embedded in the flow of a smooth vector field. We present
a new, simpler and more conceptual proof of such result using the
Jordan-Chevalley decomposition in algebraic groups and the properties of the
exponential operator.
  We characterize the hyperbolic smooth (resp. formal) diffeomorphisms that are
embedded in a smooth (resp. formal) flow. We introduce a criterium showing that
the presence of weak resonances for a diffeomorphism plus two natural
conditions imply that it is not embeddable. This solves a conjecture of Zhang.
The criterium is optimal, we provide a method to construct embeddable
diffeomorphisms with weak resonances if we remove any of the conditions.