Flows of hard granular materials depend strongly on the interparticle
friction coefficient $\mu_p$ and on the inertial number ${\cal I}$, which
characterizes proximity to the jamming transition where flow stops. Guided by
numerical simulations, we derive the phase diagram of dense inertial flow of
spherical particles, finding three regimes for $10^{-4} \lesssim {\cal I}
\lesssim 0.1$: frictionless, frictional sliding, and rolling. These are
distinguished by the dominant means of energy dissipation, changing from
collisional to sliding friction, and back to collisional, as $\mu_p$ increases
from zero at constant ${\cal I}$. The three regimes differ in their kinetics
and rheology; in particular, the velocity fluctuations and the stress
anisotropy both display non-monotonic behavior with $\mu_p$, corresponding to
transitions between the three regimes of flow. We characterize the scaling
properties of these regimes, show that energy balance yields scaling relations
for each of them, and explain why friction qualitatively affects flow.