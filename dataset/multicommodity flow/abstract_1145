We study magnetically powered relativistic outflows in which a part of the
magnetic energy is dissipated internally by reconnection. For GRB parameters,
and assuming that the reconnection speed scales with the Alfven speed,
significant dissipation can take place both inside and outside the photosphere
of the flow. The process leads to a steady increase of the flow Lorentz factor
with radius. With an analytic model we show how the efficiency of this process
depends on GRB parameters. Estimates are given for the thermal and non-thermal
radiation expected to be emitted from the photosphere and the optically thin
part of the flow respectively.
  A critical parameter of the model is the ratio of Poynting flux to kinetic
energy flux at some initial radius of the flow. For a large value (> 100) the
non-thermal radiation dominates over the thermal component. If the ratio is
small (< 40) only prompt thermal emission is expected which can be identified
with X-ray flashes.