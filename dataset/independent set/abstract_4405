In most books the Delaunay and Lagrange equations for the orbital elements
are derived by the Hamilton-Jacobi method: one begins with the 2-body Hamilton
equations, performs a canonical transformation to the orbital elements, and
obtains the Delaunay system. A standard trick is then used to generalise the
approach to the N-body case. We re-examine this step and demonstrate that it
contains an implicit condition which restricts the dynamics to a
9(N-1)-dimensional submanifold of the 12(N-1)-dimensional space spanned by the
elements and their time derivatives. The tacit condition is equivalent to the
so-called Lagrange constraint. It is the condition of the orbital elements
being osculating, i.e., of the instantaneous ellipse (or hyperbola) being
always tangential to the physical velocity. Imposure of any condition different
from the Lagrange constraint (but compatible with the equations of motion) is
legitimate and will not alter the physical trajectory or velocity (though will
alter the mathematical form of the planetary equations).
  This freedom of nomination of the supplementary constraint reveals a
gauge-type internal symmetry of the celestial-mechanics equations and has
consequences for the stability of numerical integrators. Another important
aspect of this freedom is that any gauge different from that of Lagrange makes
the Delaunay system non-canonical. In a more general setting, when the
disturbance depends not only upon positions but also upon velocities, there is
a "generalised Lagrange gauge" wherein the Delaunay system is symplectic. This
gauge renders orbital elements that are osculating in the phase space. It
coincides with the regular Lagrange gauge when the perturbation is
velocity-independent.