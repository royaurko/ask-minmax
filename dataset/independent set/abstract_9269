A formalism for energy-dependent many-body perturbation theory (MBPT),
previously indicated in our recent review articles (Lindgren et al., Phys.Rep.
389,161(2004), Can.J.Phys. 83,183(2005)), is developed in more detail. The
formalism allows for a mixture of energy-dependent (retarded) and
energy-independent (instantaneous) interactions and hence for a merger of QED
and standard (relativistic) MBPT. This combination is particularly important
for light elements, such as light heliumlike ions, where electron correlation
is pronounced. It can also be quite significant in the medium-heavy mass range,
as recently discussed by Fritzsche et al. (J.Phys. B38,S707(2005)), with the
consequence that the effects might be significant also in analyzing the data of
experiments with highly charged ions. A numerical procedure for treating the
combined effect is described, and some preliminary numerical results are given
for heliumlike ions. This represent the first numerical evaluation of effects
beyond two-photon exchange involving a retarded interaction. It is found that
for heliumlike neon the effect of one retarded photon (with Coulomb
interactions of all orders) represents about 99% of the non-radiative effects
beyond energy-independent MBPT.