Let $\mathcal J$ be an ideal sheaf on a reduced analytic space $X$ with zero
set $Z$. We show that the Lelong numbers of the restrictions to $Z$ of certain
generalized Monge-Amp\`ere products $(dd^c\log|f|^2)^k$, where $f$ is a tuple
of generators of $\mathcal J$, coincide with the so-called Segre numbers of
$\mathcal J$, introduced independently by Tworzewski and Gaffney-Gassler. More
generally we show that these currents satisfy a generalization of the classical
King formula that takes into account fixed and moving components of Vogel
cycles associated with $\mathcal J$. A basic tool is a new calculus for
products of positive currents of Bochner-Martinelli type. We also discuss
connections to intersection theory.