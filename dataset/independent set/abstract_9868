We provide Vasiliev's fully nonlinear equations of motion for bosonic gauge
fields in four spacetime dimensions with an action principle. We first extend
Vasiliev's original system with differential forms in degrees higher than one.
We then derive the resulting duality-extended equations of motion from a
variational principle based on a generalized Hamiltonian sigma-model action.
The generalized Hamiltonian contains two types of interaction freedoms: One set
of functions that appears in the Q-structure of the generalized curvatures of
the odd forms in the duality-extended system; and another set depending on the
Lagrange multipliers, encoding a generalized Poisson structure, i.e. a set of
polyvector fields of ranks two or higher in target space. We find that at least
one of the two sets of interaction-freedom functions must be linear in order to
ensure gauge invariance. We discuss consistent truncations to the minimal Type
A and B models (with only even spins), spectral flows on-shell and provide
boundary conditions on fields and gauge parameters that are compatible with the
variational principle and that make the duality-extended system equivalent, on
shell, to Vasiliev's original system.