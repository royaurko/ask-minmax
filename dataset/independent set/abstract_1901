A model of core-clump accretion with equally likely stopping describes star
formation in the dense parts of clusters, where models of isolated collapsing
cores may not apply. Each core accretes at a constant rate onto its protostar,
while the surrounding clump gas accretes as a power of protostar mass. Short
accretion flows resemble Shu accretion, and make low-mass stars. Long flows
resemble reduced Bondi accretion and make massive stars. Accretion stops due to
environmental processes of dynamical ejection, gravitational competition, and
gas dispersal by stellar feedback, independent of initial core structure. The
model matches the field star IMF from 0.01 to more than 10 solar masses. The
core accretion rate and the mean accretion duration set the peak of the IMF,
independent of the local Jeans mass. Massive protostars require the longest
accretion durations, up to 0.5 Myr. The maximum protostar luminosity in a
cluster indicates the mass and age of its oldest protostar. The distribution of
protostar luminosities matches those in active star-forming regions if
protostars have a constant birthrate but not if their births are coeval. For
constant birthrate, the ratio of YSOs to protostars indicates the star-forming
age of a cluster, typically ~1 Myr. The protostar accretion luminosity is
typically less than its steady spherical value by a factor of ~2, consistent
with models of episodic disk accretion.