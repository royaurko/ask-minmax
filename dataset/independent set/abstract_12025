Possibilities in principle for satisfactory removal of the 180-azimuthal
ambiguity in the transverse field of vector magnetograms and the extrapolation
of magnetic fields independently of their position on the solar disk are shown.
Revealed here is an exact correspondence between the estimated field and the
nonpotential loop structure on the limb. The Metropolis's algorithm modified to
work in spherical geometry is used to resolve the azimuthal ambiguity. Based on
a version of the optimization method from Rudenko and Myshyakov (2009), we use
corrected magnetograms as boundary conditions for magnetic field extrapolation
in the nonlinear force-free approximation.