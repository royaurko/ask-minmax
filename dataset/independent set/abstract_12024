The partition function of an N=2 gauge theory in the Omega-background
satisfies, for generic value of the parameter beta=-eps_1/eps_2, the, in
general extended, but otherwise beta-independent, holomorphic anomaly equation
of special geometry. Modularity together with the (beta-dependent) gap
structure at the various singular loci in the moduli space completely fixes the
holomorphic ambiguity, also when the extension is non-trivial. In some cases,
the theory at the orbifold radius, corresponding to beta=2, can be identified
with an "orientifold" of the theory at beta=1. The various connections give
hints for embedding the structure into the topological string.