We study generic volume-preserving diffeomorphisms on compact manifolds. We
show that the following property holds generically in the $C^1$ topology:
Either there is at least one zero Lyapunov exponent at almost every point, or
the set of points with only non-zero exponents forms an ergodic component.
Moreover, if this nonuniformly hyperbolic component has positive measure then
it is essentially dense in the manifold (that is, it has a positive measure
intersection with any nonempty open set) and there is a global dominated
splitting. For the proof we establish some new properties of independent
interest that hold $C^r$-generically for any $r \geq 1$, namely: the continuity
of the ergodic decomposition, the persistence of invariant sets, and the
$L^1$-continuity of Lyapunov exponents.