We have formulated and implemented a fully charge-self-consistent density
functional theory plus dynamical mean field theory methodology which enables an
efficient calculation of the total energy of realistic correlated electron
systems. The density functional portion of the calculation uses a plane wave
basis set within the projector augmented wave method enabling study of systems
with large, complex unit cells. The dynamical mean field portion of the
calculation is formulated using maximally localized Wannier functions, enabling
a convenient implementation which is independent of the basis set used in the
density functional portion of the calculation. The importance of using a
correct double counting term is demonstrated. A generalized form of the
standard double counting correction, which we refer to as the $U^\prime$ form,
is described in detail and used. For comparison the density functional plus U
method is implemented within the same framework including the generalized
double counting. The formalism is validated via a calculation of the
metal-insulator and structural phase diagrams of the rare-earth nickelate
perovskites as functions of applied pressure and A-site rare-earth ions. The
calculated density functional plus dynamical mean field results are found to be
consistent with experiment. The density functional plus U method is shown to
grossly overestimate the tendency for bond-disproportionation and insulating
behavior.