Let R be any subring of the reals. We present a generalization of linear
systems on graphs where divisors are R-valued functions on the set of vertices
and graph edges are permitted to have nonegative weights in R. Using this
generalization, we provide an independent proof of a Riemann-Roch formula,
which implies the Riemann-Roch formula of Baker and Norine.