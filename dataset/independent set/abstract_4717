We present a model for the evolution of the galaxy ultraviolet (UV)
luminosity function (LF) across cosmic time where star formation is linked to
the assembly of dark matter halos under the assumption of a halo mass
dependent, but redshift independent, star formation efficiency. This model
improves on previous work by introducing a new self-consistent treatment of the
halo star formation history, which allows us to make predictions at redshift
$z>10$ (lookback time $\lesssim500$ Myr), when growth is rapid. With a
calibration at a single redshift to set the stellar to halo mass ratio, and no
further degrees of freedom, our model captures the evolution of the UV LF over
all the available observations ($0\lesssim z\lesssim10$). The significant drop
in the luminosity density of currently detectable galaxies beyond $z\sim8$ is
explained by a shift of star formation toward less massive, fainter galaxies.
Assuming that star formation proceeds down to atomic cooling halos, we derive a
reionization optical depth $\tau = 0.056^{+0.007}_{-0.010}$ fully consistent
with the latest Planck measurement, and implying that the universe is fully
reionized at $z=7.84^{+0.65}_{-0.98}$. In addition, our model naturally
produces smoothly rising star formation histories for galaxies with $L\lesssim
L_*$ in agreement with observations and detailed hydrodynamical simulations.
Before the epoch of reionization at $z>10$ we predict the LF to remain
well-described by a Schechter function, but with an increasingly steep
faint-end slope ($\alpha\sim-3.5$ at $z\sim16$). Finally, we construct detailed
forecasts for surveys with JWST and WFIRST, including the boost from
gravitational lensing magnification bias in blank fields, and predict that
galaxies out to $z\sim14$ will be observed. However, galaxies at $z>15$ will
likely be accessible to JWST and WFIRST only through the assistance of strong
lensing magnification.