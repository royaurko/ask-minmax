We generalize the splitting theorem of Cai-Galloway for complete Riemannian
manifolds with $\Ric\geq-(n-1)$ admitting a family of compact hypersurfaces
tending to infinity with mean curvatures tending to $n-1$ sufficiently fast to
the setting of smooth metric measure spaces. This result complements and
provides a new perspective on the splitting theorems recently proven by
Munteanu-Wang and Su-Zhang. We show that the mean curvature assumption in our
result is sharp, which also provides an example showing that the assumption
$R\geq-(n-1)$ in the Munteanu-Wang splitting theorem for expanding gradient
Ricci solitons cannot be relaxed to $R>-n$. We also use our result to study a
certain class of conformally compact quasi-Einstein metrics, giving, as
generalizations of respective results of Cai-Galloway and Lee, necessary
conditions for the boundary to be connected and for the bottom of the spectrum
of the weighted Laplacian to be maximal.