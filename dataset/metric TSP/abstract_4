We consider TSP with time windows and service time. In this problem we
receive a sequence of requests for a service at nodes in a metric space and a
time window for each request. The goal of the online algorithm is to maximize
the number of requests served during their time window. The time to traverse an
edge is the distance between the incident nodes of that edge. Serving a request
requires unit time. We characterize the competitive ratio for each metric space
separately. The competitive ratio depends on the relation between the minimum
laxity (the minimum length of a time window) and the diameter of the metric
space. Specifically, there is a constant competitive algorithm depending
whether the laxity is larger or smaller than the diameter. In addition, we
characterize the rate of convergence of the competitive ratio to $1$ as the
laxity increases. Specifically, we provide a matching lower and upper bounds
depending on the ratio between the laxity and the TSP of the metric space (the
minimum distance to traverse all nodes). An application of our result improves
the lower bound for colored packets with transition cost and matches the upper
bound. In proving our lower bounds we use an interesting non-standard embedding
with some special properties. This embedding may be interesting by its own.