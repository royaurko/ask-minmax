We compactify the moduli variety of compact Riemann surfaces (resp., of
abelian varieties) by attaching moduli of graphs (resp., of tori) as boundary.
The compactifications patch together to form a big connected moduli space of
which M_g for all g are open subsets (the same for A_g).
  The "degenerations" as tropical varieties are obtained via Gromov-Hausdorff
collapse by fixing diameters of Kahler-Einstein metrics. This phenomenon can be
seen as an "archemidean" analogue of the tropicalisation of Berkovich
analytification of M_g studied by [Abramovich-Caporaso-Payne]. We also study
topologies of the boundaries a little.