Suppose $(X,\omega)$ is a compact K\"ahler manifold. Following Mabuchi, the
space of smooth K\"ahler potentials $\mathcal H$ can be endowed with a
Riemannian structure, which induces an infinite dimensional path length metric
space $(\mathcal H,d)$. We prove that the metric completion of $(\mathcal H,d)$
can be identified with $(\mathcal E^2(X,\omega),\tilde d)$, and this latter
space is a complete non-positively curved geodesic metric space. In obtaining
this result, we will rely on envelope techniques which allow for a treatment in
a very general context. Profiting from this, we will characterize the pairs of
potentials in $\text{PSH}(X,\omega)$ that can be connected by weak geodesics
and we will also give a characterization of $\mathcal E(X,\omega)$ in this
context.