We consider compactifications of type II string theory on general SU(3) x
SU(3) structure backgrounds allowing for a very large set of fluxes, possibly
nongeometric ones. We study the effective 4d low energy theory which is a
gauged N=2 supergravity, and discuss how its data are obtained from the
formalism of the generalized geometry on T+T*. In particular we relate
Hitchin's special Kaehler metrics on the spaces of even and odd pure spinors to
the metric on the supergravity moduli space of internal metric and B-field
fluctuations. We derive the N=1 vacuum conditions from this N=2 effective
action, as well as from its N=1 truncation. We prove a direct correspondence
between these conditions and an integrated version of the pure spinor equations
characterizing the N=1 backgrounds at the ten dimensional level.