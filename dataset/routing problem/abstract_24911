We propose a framework for analyzing and comparing distributions, allowing us
to design statistical tests to determine if two samples are drawn from
different distributions. Our test statistic is the largest difference in
expectations over functions in the unit ball of a reproducing kernel Hilbert
space (RKHS). We present two tests based on large deviation bounds for the test
statistic, while a third is based on the asymptotic distribution of this
statistic. The test statistic can be computed in quadratic time, although
efficient linear time approximations are available. Several classical metrics
on distributions are recovered when the function space used to compute the
difference in expectations is allowed to be more general (eg. a Banach space).
We apply our two-sample tests to a variety of problems, including attribute
matching for databases using the Hungarian marriage method, where they perform
strongly. Excellent performance is also obtained when comparing distributions
over graphs, for which these are the first such tests.