Functional principal component analysis (FPCA) based on the
Karhunen--Lo\`{e}ve decomposition has been successfully applied in many
applications, mainly for one sample problems. In this paper we consider common
functional principal components for two sample problems. Our research is
motivated not only by the theoretical challenge of this data situation, but
also by the actual question of dynamics of implied volatility (IV) functions.
For different maturities the log-returns of IVs are samples of (smooth) random
functions and the methods proposed here study the similarities of their
stochastic behavior. First we present a new method for estimation of functional
principal components from discrete noisy data. Next we present the two sample
inference for FPCA and develop the two sample theory. We propose bootstrap
tests for testing the equality of eigenvalues, eigenfunctions, and mean
functions of two functional samples, illustrate the test-properties by
simulation study and apply the method to the IV analysis.