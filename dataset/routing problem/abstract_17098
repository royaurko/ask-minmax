We consider a wireless broadcast station that transmits packets to multiple
users. The packet requests for each user may overlap, and some users may
already have certain packets. This presents a problem of broadcasting in the
presence of side information, and is a generalization of the well known (and
unsolved) index coding problem of information theory. Rather than achieving the
full capacity region, we develop a code-constrained capacity region, which
restricts attention to a pre-specified set of coding actions. We develop a
dynamic max-weight algorithm that allows for random packet arrivals and
supports any traffic inside the code-constrained capacity region. Further, we
provide a simple set of codes based on cycles in the underlying demand graph.
We show these codes are optimal for a class of broadcast relay problems.