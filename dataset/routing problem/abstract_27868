This paper considers the cooperative output regulation problem for linear
multi-agent systems with a directed communication graph, heterogeneous linear
subsystems, and an exosystem whose output is available to only a subset of
subsystems. Both the cases with nominal and uncertain linear subsystems are
studied. For the case with nominal linear subsystems, a distributed adaptive
observer-based controller is designed, where the distributed adaptive observer
is implemented for the subsystems to estimate the exogenous signal. For the
case with uncertain linear subsystems, the proposed distributed observer and
the internal model principle are combined to solve the robust cooperative
output regulation problem. Compared with the existing works, one main
contribution of this paper is that the proposed control schemes can be designed
and implemented by each subsystem in a fully distributed fashion for general
directed graphs. For the special case with undirected graphs, a distributed
output feedback control law is further presented.