Magnetic fields play an important role in astrophysics on a wide variety of
scales, ranging from the Sun and compact objects to galaxies and galaxy
clusters. Here we discuss a novel implementation of ideal magnetohydrodynamics
(MHD) in the moving mesh code AREPO which combines many of the advantages of
Eulerian and Lagrangian methods in a single computational technique. The
employed grid is defined as the Voronoi tessellation of a set of
mesh-generating points which can move along with the flow, yielding an
automatic adaptivity of the mesh and a substantial reduction of advection
errors. Our scheme solves the MHD Riemann problem in the rest frame of the
Voronoi interfaces using the HLLD Riemann solver. To satisfy the divergence
constraint of the magnetic field in multiple dimensions, the Dedner divergence
cleaning method is applied. In a set of standard test problems we show that the
new code produces accurate results, and that the divergence of the magnetic
field is kept sufficiently small to closely preserve the correct physical
solution. We also apply the code to two first application problems, namely
supersonic MHD turbulence and the spherical collapse of a magnetized cloud. We
verify that the code is able to handle both problems well, demonstrating the
applicability of this MHD version of AREPO to a wide range of problems in
astrophysics.