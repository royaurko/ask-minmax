We discuss a problem of handling resource reservations. The resource can be
reserved for some time, it can be freed or it can be queried what is the
largest amount of reserved resource during a time interval. We show that the
problem has a lower bound of $\Omega(\log n)$ per operation on average and we
give a matching upper bound algorithm. Our solution also solves a dynamic
version of the related problems of a prefix sum and a partial sum.