In this paper we present a method to solve the G-dwarf problem in the
frame-work of analytical models (based on the instantaneous recycling
approximation, IRA). We consider a one-zone closed model without inflows or
outflows. We suppose a time-dependent Initial Mass Function (IMF) and we find
an integral-differential equation which must be satisfied in order to honour
the G-dwarf metallicity distribution as a function of the oxygen abundance.
IMFs with one and two slopes are given and discussed also in the framework of a
numerical chemical evolution model without IRA. We conclude that it is
difficult to reproduce other observational constraints besides the G-dwarf
distribution (such as $[\frac{O}{Fe}]$ vs $[\frac{Fe}{H}]$), and that an IMF
with two slopes, with time-dependent shape at the low mass end, would be
required. However, even in this case the predicted oxygen gradient along the
disk is flat and radial flows would be required to reproduce the observed
gradient.