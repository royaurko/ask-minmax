The phase space of an integrable Hamiltonian system is foliated by invariant
tori. For an arbitrary Hamiltonian H such a foliation may not exist, but we can
artificially construct one through a parameterised family of surfaces, with the
intention of finding, in some sense, the closest integrable approximation to H.
This is the Poincar\'e inverse problem (PIP). In this paper, we review the
available methods of solving the PIP and present a new iterative approach which
works well for the often problematic thin orbits.