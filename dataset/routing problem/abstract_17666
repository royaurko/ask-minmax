This paper studies the general problem of operating energy storage under
uncertainty. Two fundamental sources of uncertainty are considered, namely the
uncertainty in the unexpected fluctuation of the net demand process and the
uncertainty in the locational marginal prices. We propose a very simple
algorithm termed Online Modified Greedy (OMG) algorithm for this problem. A
stylized analysis for the algorithm is performed, which shows that comparing to
the optimal cost of the corresponding stochastic control problem, the
sub-optimality of OMG is bounded and approaches zero in various scenarios. This
suggests that, albeit simple, OMG is guaranteed to have good performance in
some cases; and in other cases, OMG together with the sub-optimality bound can
be used to provide a lower bound for the optimal cost. Such a lower bound can
be valuable in evaluating other heuristic algorithms. For the latter cases, a
semidefinite program is derived to minimize the sub-optimality bound of OMG.
Numerical experiments are conducted to verify our theoretical analysis and to
demonstrate the use of the algorithm.