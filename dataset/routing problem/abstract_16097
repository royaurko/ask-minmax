We introduce a version of the cavity method for diluted mean-field spin
models that allows the computation of thermodynamic quantities similar to the
Franz-Parisi quenched potential in sparse random graph models. This method is
developed in the particular case of partially decimated random constraint
satisfaction problems. This allows to develop a theoretical understanding of a
class of algorithms for solving constraint satisfaction problems, in which
elementary degrees of freedom are sequentially assigned according to the
results of a message passing procedure (belief-propagation). We confront this
theoretical analysis to the results of extensive numerical simulations.