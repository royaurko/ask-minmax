We present a unified framework for designing and analyzing algorithms for
online budgeted allocation problems (including online matching) and their
generalization, the Online Generalized Assignment Problem (OnGAP). These
problems have been intensively studied as models of how to allocate impressions
for online advertising. In contrast to previous analyses of online budgeted
allocation algorithms (the so-called "balance" or "water-filling" family of
algorithms) our analysis is based on the method of randomized dual fitting,
analogous to the recent analysis of the RANKING algorithm for online matching
due to Devanur et al. Our main contribution is thus to provide a unified method
of proof that simultaneously derives the optimal competitive ratio bounds for
online matching and online fractional budgeted allocation. The same method of
proof also supplies $(1-1/e)$ competitive ratio bounds for greedy algorithms
for both problems, in the random order arrival model; this simplifies existing
analyses of greedy online allocation algorithms with random order of arrivals,
while also strengthening them to apply to a larger family of greedy algorithms.
Finally, for the more general OnGAP problem, we show that no algorithm can be
constant-competitive; instead we present an algorithm whose competitive ratio
depends logarithmically on a certain parameter of the problem instance, and we
show that this dependence cannot be improved.