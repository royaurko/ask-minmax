The maximal subgroup of unipotent upper-triangular matrices of the finite
general linear groups are a fundamental family of $p$-groups. Their
representation theory is well-known to be wild, but there is a standard
supercharacter theory, replacing irreducible representations by
super-representations, that gives us some control over its representation
theory. While this theory has a beautiful underlying combinatorics built on set
partitions, the structure constants of restricted super-representations remain
mysterious. This paper proposes a new approach to solving the restriction
problem by constructing natural intermediate modules that help "factor" the
computation of the structure constants. We illustrate the technique by solving
the problem completely in the case of rainbow supercharacters (and some
generalizations). Along the way we introduce a new $q$-analogue of the binomial
coefficients that depend on an underlying poset.