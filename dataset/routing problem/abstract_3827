We study the problem of conjunctive query evaluation over sets of queries;
this problem is formulated here as the relational homomorphism problem over a
set of structures A, wherein each instance must be a pair of structures such
that the first structure is an element of A. We present a comprehensive
complexity classification of these problems, which strongly links
graph-theoretic properties of A to the complexity of the corresponding
homomorphism problem. In particular, we define a binary relation on graph
classes and completely describe the resulting hierarchy given by this relation.
This binary relation is defined in terms of a notion which we call graph
deconstruction and which is a variant of the well-known notion of tree
decomposition. We then use this graph hierarchy to infer a complexity hierarchy
of homomorphism problems which is comprehensive up to a computationally very
weak notion of reduction, namely, a parameterized form of quantifier-free
reductions. We obtain a significantly refined complexity classification of
homomorphism problems, as well as a unifying, modular, and conceptually clean
treatment of existing complexity classifications. We also present and develop
the theory of pebble games which solve the homomorphism problems where the
cores of the structures in A have bounded tree depth; as a fruit of this
development, we characterize the homomorphism problems solvable in logarithmic
space. We also use our framework to classify the complexity of model checking
existential sentences having bounded quantifier rank.