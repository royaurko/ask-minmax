We consider the problem of maximizing expected utility from consumption in a
constrained incomplete semimartingale market with a random endowment process,
and establish a general existence and uniqueness result using techniques from
convex duality. The notion of asymptotic elasticity of Kramkov and
Schachermayer is extended to the time-dependent case. By imposing no smoothness
requirements on the utility function in the temporal argument, we can treat
both pure consumption and combined consumption/terminal wealth problems, in a
common framework. To make the duality approach possible, we provide a detailed
characterization of the enlarged dual domain which is reminiscent of the
enlargement of $L^1$ to its topological bidual $(L^{\infty})^*$, a space of
finitely-additive measures. As an application, we treat the case of a
constrained It\^ o-process market-model.