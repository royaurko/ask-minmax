Supersymmetric gauge models with local horizontal symmetries are known to
generate large flavor changing neutral current effects induced by supersymmetry
breaking D-terms. We show how the presence of a U(1) gauge symmetry solves this
problem. We then construct a realistic gauge model with SU(2)_H x U(1)_H as the
local horizontal symmetry and suggest that the U(1)_H factor may be identified
with the anomalous U(1) induced by string compactification. This model explains
the observed hierarchies among the quark masses and mixing angles, accommodates
naturally the solar and atmospheric neutrino data, and provides simultaneously
a solution to the supersymmetric flavor problem. The model can be excluded if
the rare decay \mu --> e \gamma is not observed in the current round of
experiments.