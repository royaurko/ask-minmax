We construct a bi-Lipschitz bijection from the Boolean cube to the Hamming
ball of equal volume. More precisely, we show that for all even n there exists
an explicit bijection f from the n-dimensional Boolean cube to the Hamming ball
of equal volume embedded in (n+1)-dimensional Boolean cube, such that for all x
and y it holds that distance(x,y) / 5 <= distance(f(x),f(y)) <= 4 distance(x,y)
where distance(,) denotes the Hamming distance. In particular, this implies
that the Hamming ball is bi-Lipschitz transitive.
  This result gives a strong negative answer to an open problem of Lovett and
Viola [CC 2012], who raised the question in the context of sampling
distributions in low-level complexity classes. The conceptual implication is
that the problem of proving lower bounds in the context of sampling
distributions will require some new ideas beyond the sensitivity-based
structural results of Boppana [IPL 97].
  We study the mapping f further and show that it (and its inverse) are
computable in DLOGTIME-uniform TC0, but not in AC0. Moreover, we prove that f
is "approximately local" in the sense that all but the last output bit of f are
essentially determined by a single input bit.