We investigate the ground states of the one-dimensional nonlinear
Schr\"odinger equation with a defect located at a fixed point. The nonlinearity
is focusing and consists of a subcritical power. The notion of ground state can
be defined in several (often non-equivalent) ways. We define a ground state as
a minimizer of the energy functional among the functions endowed with the same
mass. This is the physically meaningful definition in the main fields of
application of NLS. In this context we prove an abstract theorem that revisits
the concentration-compactness method and which is suitable to treat NLS with
inhomogeneities. Then we apply it to three models, describing three different
kinds of defect: delta potential, delta prime interaction, and dipole. In the
three cases we explicitly compute ground states and we show their orbital
stability. This problem had been already considered for the delta and for the
delta prime defect with a different constrained minimization problem, i.e.
defining ground states as the minimizers of the action on the Nehari manifold.
The case of dipole defect is entirely new.