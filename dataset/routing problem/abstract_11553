Under an assumption of normal genericity, we show that a stable J-holomorphic
curve has, in the space of homologous curves of the same genus, a locally
Euclidean neighbourhood of the expected dimension given by Riemann-Roch. In
dimension 4, the normal genericity condition is satisfied in by every curve in
CP2 (for an almost complex structure homotopic with the standard one) which has
only nodes as singularities. This leads in particular to a solution of the
symplectic isotopy problem for surfaces of degree 3.