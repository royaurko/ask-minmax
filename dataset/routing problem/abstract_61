We consider the following fundamental routing problem. An adversary inputs
packets arbitrarily at sources, each packet with an arbitrary destination.
Traffic is constrained by link capacities and buffer sizes, and packets may be
dropped at any time. The goal of the routing algorithm is to maximize
throughput, i.e., route as many packets as possible to their destination. Our
main result is an $O\left(\log n\right)$-competitive deterministic algorithm
for an $n$-node line network (i.e., $1$-dimensional grid), requiring only that
buffers can store at least $5$ packets, and that links can deliver at least $5$
packets per step. We note that $O(\log n)$ is the best ratio known, even for
randomized algorithms, even when allowed large buffers and wide links. The best
previous deterministic algorithm for this problem with constant-size buffers
and constant-capacity links was $O(\log^5 n)$-competitive. Our algorithm works
like admission-control algorithms in the sense that if a packet is not dropped
immediately upon arrival, then it is "accepted" and guaranteed to be delivered.
We also show how to extend our algorithm to a polylog-competitive algorithm for
any constant-dimension grid.