Given a short exact sequence of groups with certain conditions, $1\to F\to
G\to H\to 1$, we prove that $G$ has solvable conjugacy problem if and only if
the corresponding action subgroup $A\leqslant Aut(F)$ is orbit decidable. From
this, we deduce that the conjugacy problem is solvable, among others, for all
groups of the form $\mathbb{Z}^2\rtimes F_m$, $F_2\rtimes F_m$, $F_n \rtimes
\mathbb{Z}$, and $\mathbb{Z}^n \rtimes_A F_m$ with virtually solvable action
group $A\leqslant GL_n(\mathbb{Z})$. Also, we give an easy way of constructing
groups of the form $\mathbb{Z}^4\rtimes F_n$ and $F_3\rtimes F_n$ with
unsolvable conjugacy problem. On the way, we solve the twisted conjugacy
problem for virtually surface and virtually polycyclic groups, and give an
example of a group with solvable conjugacy problem but unsolvable twisted
conjugacy problem. As an application, an alternative solution to the conjugacy
problem in $Aut(F_2)$ is given.