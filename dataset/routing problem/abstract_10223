This paper solves a utility maximization problem under utility-based
shortfall risk constraint, by proposing an approach using Lagrange multiplier
and convex duality. Under mild conditions on the asymptotic elasticity of the
utility function and the loss function, we find an optimal wealth process for
the constrained problem and characterize the bi-dual relation between the
respective value functions of the constrained problem and its dual. This
approach applies to both complete and incomplete markets. Moreover, the
extension to more complicated cases is illustrated by solving the problem with
a consumption process added. Finally, we give an example of utility and loss
functions in the Black-Scholes market where the solutions have explicit forms.