In this article we provide a novel characterization of the proportionally
fair bandwidth allocation of network capacities, in terms of the
Fenchel--Legendre transform of the network capacity region. We use this
characterization to prove stability (i.e., ergodicity) of network dynamics
under proportionally fair sharing, by exhibiting a suitable Lyapunov function.
Our stability result extends previously known results to a more general model
including Markovian users routing. In particular, it implies that the stability
condition previously known under exponential service time distributions remains
valid under so-called phase-type service time distributions. We then exhibit a
modification of proportional fairness, which coincides with it in some
asymptotic sense, is reversible (and thus insensitive), and has explicit
stationary distribution. Finally we show that the stationary distributions
under modified proportional fairness and balanced fairness, a sharing criterion
proposed because of its insensitivity properties, admit the same large
deviations characteristics. These results show that proportional fairness is an
attractive bandwidth allocation criterion, combining the desirable properties
of ease of implementation with performance and insensitivity.