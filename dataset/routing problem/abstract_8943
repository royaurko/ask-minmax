We consider the El Farol bar problem, also known as the minority game (W. B.
Arthur, ``The American Economic Review'', 84(2): 406--411 (1994), D. Challet
and Y.C. Zhang, ``Physica A'', 256:514 (1998)). We view it as an instance of
the general problem of how to configure the nodal elements of a distributed
dynamical system so that they do not ``work at cross purposes'', in that their
collective dynamics avoids frustration and thereby achieves a provided global
goal. We summarize a mathematical theory for such configuration applicable when
(as in the bar problem) the global goal can be expressed as minimizing a global
energy function and the nodes can be expressed as minimizers of local free
energy functions. We show that a system designed with that theory performs
nearly optimally for the bar problem.