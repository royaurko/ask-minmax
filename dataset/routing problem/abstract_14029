We prove existence of envy-free allocations in markets with heterogenous
indivisible goods and money, when a given quantity is supplied from each of the
goods and agents have unit demands. We depart from most of the previous
literature by allowing agents' preferences over the goods to depend on the
entire vector of prices. Our proof uses Shapley's K-K-M-S theorem and Hall's
marriage lemma. We then show how our theorem may be applied in two related
problems: Existence of envy-free allocations in a version of the cake-cutting
problem, and existence of equilibrium in an exchange economy with indivisible
goods and money.