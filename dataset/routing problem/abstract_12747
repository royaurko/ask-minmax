Given a positive definite kernel in a locally compact space, we study a
minimal energy problem in the presence of an external field over the class of
all nonnegative Radon measures that are supported by a given closed noncompact
set, satisfy certain normalizing assumptions, and do not exceed a fixed measure
serving as a constraint. Under general assumptions, we establish the existence
of a minimizing measure and analyze its continuity properties in the weak* and
strong topologies when the set and the constraint are both varied. We also give
a description of the weighted potential of a minimizing measure and single out
its characteristic properties. Such results are mostly new even for classical
kernels, which is important in applications.