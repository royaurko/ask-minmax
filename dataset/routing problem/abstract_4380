We consider optimal investment problems for a diffusion market model with
non-observable random drifts that evolve as an Ito's process. Admissible
strategies do not use direct observations of the market parameters, but rather
use historical stock prices. For a non-linear problem with a general
performance criterion, the optimal portfolio strategy is expressed via the
solution of a scalar minimization problem and a linear parabolic equation with
coefficients generated by the Kalman filter.