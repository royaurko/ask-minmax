We study the existence and uniqueness of a solution for the multivalued
stochastic differential equation with delay (the multivalued term is of
subdifferential type): \[ \left\{\begin{array} [c]{r}
dX(t)+\partial\varphi\left(X(t)\right) dt\ni b\left(t,X(t),Y(t),Z(t)\right)
dt+\sigma\left(t,X(t),Y(t),Z(t)\right)dW(t), \medskip\\ t\in(s,T],\medskip\\
\multicolumn{1}{l}{X(t)=\xi\left(t-s\right) ,\;t\in\left[ s-\delta,s\right] .}
\end{array} \right. \]
  Specify that in this case the coefficients at time $t$ depends also on
previous values of $X\left(t\right) $ through $Y(t)$ and $Z(t)$. Also $X$ is
constrained with the help of a bounded variation feedback law $K$ to stay in
the convex set $\bar{\mathrm{Dom}\left(\varphi\right)}$. Afterwards we consider
optimal control problems where the state $X$ is a solution of a controlled
delay stochastic system as above. We establish the dynamic programming
principle for the value function and finally we prove that the value function
is a viscosity solution for a suitable Hamilton-Jacobi-Bellman type equation.