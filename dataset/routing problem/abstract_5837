We address the Monge problem in metric spaces with a geodesic distance: (X,
d) is a Polish space and dN is a geodesic Borel distance which makes (X,dN) a
possibly branching geodesic space. We show that under some assumptions on the
transference plan we can reduce the transport problem to transport problems
along family of geodesics. We introduce two assumptions on the transference
plan {\pi} which imply that the conditional probabilities of the first marginal
on each family of geodesics are continuous and that each family of geodesics is
a hourglass-like set. We show that this regularity is sufficient for the
construction of a transport map. We apply these results to the Monge problem in
d with smooth, convex and compact obstacle obtaining the existence of an
optimal map provided the first marginal is absolutely continuous w.r.t. the
d-dimensional Lebesgue measure.