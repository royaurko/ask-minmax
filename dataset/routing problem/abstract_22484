The conditions for structure formation which ultimately lead to galaxies
request further ingredients behind the simple collapse criteria. The Jean's
criteria and the cooling criteria are those which are currently used. However
in such a simple scheme, a fundamental problem occurs in hierarchical pictures,
namely the OVERCOOLING: the predicted fraction of primordial gas expected to
have cooled in the history of structure formation is for too large. The
solution to this problem is likely to be a substantial re-heating phase. Here,
we discussed one possible solution: the warm IGM picture. If the feedback of
galaxy formation is able to heat the IGM up to temperatures of the order of
$10^5-10^6$ K, galaxy formation is inhibited on small mass scale. This leads to
an inverse hierarchical picture: most of the large galaxies form at redshifts
in the range 3 to 5, while small galaxies form at two different epoch: at an
early phase at redshift greater than five and at a late phase, between redshift
3 and 0. Such a scheme may reproduce quite well the amount of HI gas versus
redshift.