Colloid-polymer mixtures can undergo spinodal decomposition into colloid-rich
and colloid-poor regions. Gelation results when interconnected colloid-rich
regions solidify. We show that this occurs when these regions undergo a glass
transition, leading to dynamic arrest of the spinodal decomposition. The
characteristic length scale of the gel decreases with increasing quench depth,
and the nonergodicity parameter exhibits a pronounced dependence on scattering
vector. Mode coupling theory gives a good description of the dynamics, provided
we use the full static structure as input.