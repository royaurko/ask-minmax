We developed a scheme for evaluating the size of the largest connected
subnetwork (giant component) in random networks and the percolation threshold
when sites (nodes) and/or bonds (edges) are removed from the networks based on
the cavity method of statistical mechanics of disordered systems. An advantage
of our scheme is the capability of handling targeted attacks on sites/bonds in
the presence of degree correlations beyond naive analyses on random failures
(crashes) in networks of no degree correlations. We apply our scheme
particularly to random networks of bimodal degree distribution (two-peak
networks), which have been proposed in earlier studies as robust networks
against random failures of site and/or targeted attacks on sites, and show that
the correlations among degrees affect a network's robustness against targeted
attacks on sites or bonds non-trivially depending on details of network
configurations.