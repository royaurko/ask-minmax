The low energy spectral slopes of the prompt emission of most gamma-ray
bursts (GRBs) are difficult to reconcile with radiatively efficient optically
thin emission models irrespective of the radiation mechanism. An alternative is
to ascribe the radiation around the spectral peak to a thermalization process
occurring well inside the Thomson photosphere. This quasi-thermal spectrum can
evolve into the observed non-thermal shape by additional energy release at
moderate to small Thomson optical depths, which can readily give rise to the
hard spectral tail. The position of the spectral peak is determined by the
temperature and Lorentz factor of the flow in the termalization zone, where the
total number of photons carried by the jet is established. To reach
thermalization, dissipation alone is not sufficient and photon generation
requires an efficient emission/absorption process in addition to scattering. We
perform a systematic study of all relevant photon production mechanisms
searching for possible conditions in which thermalization can take place. We
find that a significant fraction of the available energy should be dissipated
at intermediate radii, $\sim 10^{10}$-- a few$\times 10^{11}$ cm and the flow
there should be relatively slow: the bulk Lorentz factor could not exceed a few
tens for all but the most luminous bursts with the highest $\Epk$-s. The least
restrictive constraint for successful thermalization, $\Gamma\lesssim 20$, is
obtained if synchrotron emission acts as the photon source. This requires,
however, a non-thermal acceleration deep below the Thomson photosphere
transferring a significant fraction of the flow energy to relativistic
electrons with Lorentz factors between 10 and 100. Other processes require bulk
flow Lorentz factors of order of a few for typical bursts. We examine the
implications of these results to different GRB photospheric emission models.