We study a stochastic network that consists of a set of servers processing
multiple classes of jobs. Each class of jobs requires a concurrent occupancy of
several servers while being processed, and each server is shared among the job
classes in a head-of-the-line processor-sharing mechanism. The allocation of
the service capacities is a real-time control mechanism: in each network state,
the control is the solution to an optimization problem that maximizes a general
utility function. Whereas this resource control optimizes in a ``greedy''
fashion, with respect to each state, we establish its asymptotic optimality in
terms of (a) deriving the fluid and diffusion limits of the network under this
control, and (b) identifying a cost function that is minimized in the diffusion
limit, along with a characterization of the so-called fixed point state of the
network.