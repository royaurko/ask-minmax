In this paper, we characterize the information-theoretic capacity scaling of
wireless ad hoc networks with $n$ randomly distributed nodes. By using an exact
channel model from Maxwell's equations, we successfully resolve the conflict in
the literature between the linear capacity scaling by \"{O}zg\"{u}r et al. and
the degrees of freedom limit given as the ratio of the network diameter and the
wavelength $\lambda$ by Franceschetti et al. In dense networks where the
network area is fixed, the capacity scaling is given as the minimum of $n$ and
the degrees of freedom limit $\lambda^{-1}$ to within an arbitrarily small
exponent. In extended networks where the network area is linear in $n$, the
capacity scaling is given as the minimum of $n$ and the degrees of freedom
limit $\sqrt{n}\lambda^{-1}$ to within an arbitrarily small exponent. Hence, we
recover the linear capacity scaling by \"{O}zg\"{u}r et al. if
$\lambda=O(n^{-1})$ in dense networks and if $\lambda=O(n^{-1/2})$ in extended
networks. Otherwise, the capacity scaling is given as the degrees of freedom
limit characterized by Franceschetti et al. For achievability, a modified
hierarchical cooperation is proposed based on a lower bound on the capacity of
multiple-input multiple-output channel between two node clusters using our
channel model.