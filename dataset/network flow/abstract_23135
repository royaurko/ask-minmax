Recently, Hennebelle and Chabrier (2008) derived an analytical theory for the
mass spectrum of non self-gravitating clumps associated with overdensities in
molecular clouds and for the initial mass function of gravitationally bound
prestellar cores, as produced by the turbulent collapse of the cloud. In this
companion paper, we examine the effects of the non-isothermality of the flow,
of the turbulence forcing and of local fluctuation of the velocity dispersion,
on the mass function. In particular, we investigate the influence of a
polytropic equation of state and of the effective adiabatic exponent $\gamma$
and find that it has a drastic influence on the low mass part of the IMF. We
also consider a barotropic equation of state (i.e. a piecewise polytropic eos)
that mimics the thermal behaviour of the molecular gas and compare the
prediction of our theory with the results of numerical simulations and with the
observationally-derived IMF, for cloud parameters which satisfy Larson's type
relations. We find that for clouds whose density is, at all scales, almost an
order of magnitude larger than the density inferred for the CO clumps in the
Galaxy, a good agreement is obtained between the theory and the observed IMF,
suggesting that star formation preferentially occurs in high density
environments. We derive an analytical expression for the IMF which generalizes
the expression previously obtained for the isothermal case. This
easy-to-implement analytical IMF should serve as a template to compare
observational or numerical results with the theory.