We present a simple viscous theory of free-surface flows in boundary layers,
which can accommodate regions of separated flow. In particular this yields the
structure of stationary hydraulic jumps, both in their circular and linear
versions, as well as structures moving with a constant speed. Finally we show
how the fundamental hydraulic concepts of subcritical and supercritical flow,
originating from inviscid theory, emerge at intermediate length scales in our
model.