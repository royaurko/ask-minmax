We show how the capillary filling of microchannels is affected by posts or
ridges on the sides of the channels. Ridges perpendicular to the flow direction
introduce contact line pinning which slows, or sometimes prevents, filling;
whereas ridges parallel to the flow provide extra surface which may enhances
filling. Patterning the microchannel surface with square posts has little
effect on the ability of a channel to fill for equilibrium contact angle
$\theta_e \lesssim 30^{\mathrm{o}}$. For $\theta_e \gtrsim 60^{\mathrm{o}}$,
however, even a small number of posts can pin the advancing liquid front.