After a failure or attack the structure of a complex network changes due to
node removal. Here, we show that the degree distribution of the distorted
network, under any node disturbances, can be easily computed through a simple
formula. Based on this expression, we derive a general condition for the
stability of non-correlated finite complex networks under any arbitrary attack.
We apply this formalism to derive an expression for the percolation threshold
$f_c$ under a general attack of the form $f_k \sim k^{\gamma}$, where $f_k$
stands for the probability of a node of degree $k$ of being removed during the
attack. We show that $f_c$ of a finite network of size $N$ exhibits an additive
correction which scales as $N^{-1}$ with respect to the classical result for
infinite networks.