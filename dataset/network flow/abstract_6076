We generalize the belief-propagation algorithm to sparse random networks with
arbitrary distributions of motifs (triangles, loops, etc.). Each vertex in
these networks belongs to a given set of motifs (generalization of the
configuration model). These networks can be treated as sparse uncorrelated
hypergraphs in which hyperedges represent motifs. Here a hypergraph is a
generalization of a graph, where a hyperedge can connect any number of
vertices. These uncorrelated hypergraphs are tree-like (hypertrees), which
crucially simplify the problem and allow us to apply the belief-propagation
algorithm to these loopy networks with arbitrary motifs. As natural examples,
we consider motifs in the form of finite loops and cliques. We apply the
belief-propagation algorithm to the ferromagnetic Ising model on the resulting
random networks. We obtain an exact solution of this model on networks with
finite loops or cliques as motifs. We find an exact critical temperature of the
ferromagnetic phase transition and demonstrate that with increasing the
clustering coefficient and the loop size, the critical temperature increases
compared to ordinary tree-like complex networks. Our solution also gives the
birth point of the giant connected component in these loopy networks.