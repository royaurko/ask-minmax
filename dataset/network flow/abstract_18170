We introduce a model for decentralized networks with collaborating peers. The
model is based on the stable matching theory which is applied to systems with a
global ranking utility function. We consider the dynamics of peers searching
for efficient collaborators and we prove that a unique stable solution exists.
We prove that the system converges towards the stable solution and analyze its
speed of convergence. We also study the stratification properties of the model,
both when all collaborations are possible and for random possible
collaborations. We present the corresponding fluid limit on the choice of
collaborators in the random case. As a practical example, we study the
BitTorrent Tit-for-Tat policy. For this system, our model provides an
interesting insight on peer download rates and a possible way to optimize peer
strategy.