Subway systems span most large cities, and railway networks most countries in
the world. These networks are fundamental in the development of countries and
their cities, and it is therefore crucial to understand their formation and
evolution. However, if the topological properties of these networks are fairly
well understood, how they relate to population and socio-economical properties
remains an open question. We propose here a general coarse-grained approach,
based on a cost-benefit analysis that accounts for the scaling properties of
the main quantities characterizing these systems (the number of stations, the
total length, and the ridership) with the substrate's population, area and
wealth. More precisely, we show that the length, number of stations and
ridership of subways and rail networks can be estimated knowing the area,
population and wealth of the underlying region. These predictions are in good
agreement with data gathered for about $140$ subway systems and more than $50$
railway networks in the world. We also show that train networks and subway
systems can be described within the same framework, but with a fundamental
difference: while the interstation distance seems to be constant and determined
by the typical walking distance for subways, the interstation distance for
railways scales with the number of stations.