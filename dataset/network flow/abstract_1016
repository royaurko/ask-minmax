Aims. We show how the build-up of magnetic gradients in the Sun's corona may
be inferred directly from photospheric velocity data. This enables computation
of magnetic connectivity measures such as the squashing factor without recourse
to magnetic field extrapolation.
  Methods.Assuming an ideal evolution in the corona, and an initially uniform
magnetic field, the subsequent field line mapping is computed by integrating
trajectories of the (time-dependent) horizontal photospheric velocity field.
The method is applied to a 12 hour high-resolution sequence of photospheric
flows derived from Hinode/SOT magnetograms.
  Results. We find the generation of a network of quasi-separatrix layers in
the magnetic field, which correspond to Lagrangian coherent structures in the
photospheric velocity. The visual pattern of these structures arises primarily
from the diverging part of the photospheric flow, hiding the effect of the
rotational flow component: this is demonstrated by a simple analytical model of
photospheric convection. We separate the diverging and rotational components
from the observed flow and show qualitative agreement with purely diverging and
rotational models respectively. Increasing the flow speeds in the model
suggests that our observational results are likely to give a lower bound for
the rate at which magnetic gradients are built up by real photospheric flows.
Finally, we construct a hypothetical magnetic field with the inferred topology,
that can be used for future investigations of reconnection and energy release.