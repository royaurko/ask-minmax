In this paper we close the gap between end-to-end diversity coding and
intra-session network coding for unicast connections resilient against single
link failures. In particular, we show that coding operations are sufficient to
perform at the source and receiver if the user data can be split into at most
two parts over the filed GF(2). Our proof is purely combinatorial and based on
standard graph and network flow techniques. It is a linear time construction
that defines the route of subflows A, B and A+B between the source and
destination nodes. The proposed resilient flow decomposition method generalizes
the 1+1 protection and the end-to-end diversity coding approaches while keeping
both of their benefits. It provides a simple yet resource efficient protection
method feasible in 2-connected backbone topologies. Since the core switches do
not need to be modified, this result can bring benefits to current transport
networks.