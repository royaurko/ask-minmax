Max-stable processes are the natural extension of the classical extreme-value
distributions to the functional setting, and they are increasingly widely used
to estimate probabilities of complex extreme events. In this paper we broaden
them from the usual setting in which dependence varies according to functions
of Euclidean distance to the situation in which extreme river discharges at two
locations on a river network may be dependent because the locations are
flow-connected or because of common meteorological events. In the former case
dependence depends on river distance, and in the second it depends on the
hydrological distance between the locations, either of which may be very
different from their Euclidean distance. Inference for the model parameters is
performed using a multivariate threshold likelihood, which is shown by
simulation to work well. The ideas are illustrated with data from the upper
Danube basin.