A gravity-driven flow of grains through a narrow pipe in vacuum is studied by
means of a one-dimensional model with two coefficients of restitution.
Numerical simulations show clearly how density waves form when a strikingly
simple criterion is fulfilled: that dissipation due to collisions between the
grains and the walls of the pipe is greater per collision than that which stems
from collisions between particles. Counterintuitively, the highest flow rate is
observed when the number of grains per density wave grows large. We find strong
indication that the number of grains per density wave always approaches a
constant as the particle number tends to infinity, and that collapse to a
single wave, which was often observed also in previous simulations, occurs
because the number of grains is insufficient for multiple wave formation.