Fluctuating hydrodynamics provides a model for fluids at mesoscopic scales
where thermal fluctuations can have a significant impact on the behavior of the
system. Here we investigate a model for fluctuating hydrodynamics of a single
component, multiphase flow in the neighborhood of the critical point. The
system is modeled using a compressible flow formulation with a van der Waals
equation of state, incorporating a Korteweg stress term to treat interfacial
tension. We present a numerical algorithm for modeling this system based on an
extension of algorithms developed for fluctuating hydrodynamics for ideal
fluids. The scheme is validated by comparison of measured structure factors and
capillary wave spectra with equilibrium theory. We also present several
non-equilibrium examples to illustrate the capability of the algorithm to model
multi-phase fluid phenomena in a neighborhood of the critical point. These
examples include a study of the impact of fluctuations on the spinodal
decomposition following a rapid quench, as well as the piston effect in a
cavity with supercooled walls. The conclusion in both cases is that thermal
fluctuations affect the size and growth of the domains in off-critical
quenches.