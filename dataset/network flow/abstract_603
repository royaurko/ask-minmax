With the rapid development of software defined networking and network
function virtualization, researchers have proposed a new cloud networking model
called Network-as-a-Service (NaaS) which enables both in-network packet
processing and application-specific network control. In this paper, we revisit
the problem of achieving network energy efficiency in data centers and identify
some new optimization challenges under the NaaS model. Particularly, we extend
the energy-efficient routing optimization from single-resource to
multi-resource settings. We characterize the problem through a detailed model
and provide a formal problem definition. Due to the high complexity of direct
solutions, we propose a greedy routing scheme to approximate the optimum, where
flows are selected progressively to exhaust residual capacities of active
nodes, and routing paths are assigned based on the distributions of both node
residual capacities and flow demands. By leveraging the structural regularity
of data center networks, we also provide a fast topology-aware heuristic method
based on hierarchically solving a series of vector bin packing instances. Our
simulations show that the proposed routing scheme can achieve significant gain
on energy savings and the topology-aware heuristic can produce comparably good
results while reducing the computation time to a large extent.