This paper gives a pedagogic review of the envelope formalism for excitation
of zonal flows by nonlinear interactions of plasma drift waves or Rossby waves,
described equivalently by the Hasegawa-Mima (HM) equation or the
quasigeostrophic barotropic potential vorticity equation, respectively. In the
plasma case a modified form of the HM equation, which takes into account
suppression of the magnetic-surface-averaged electron density response by a
small amount of rotational transform, is also analyzed. Excitation of zonal
mean flow by a modulated wave train is particularly strong in the modified HM
case. A local dispersion relation for a coherent wave train is calculated by
linearizing about a background mean flow and used to find the nonlinear
frequency shift by inserting the nonlinearly excited mean flow. Using the
generic nonlinear Schroedinger equation about a uniform carrier wave, the
criterion for instability of small modulations of the wave train is found, as
is the maximum growth rate and phase velocity of the modulations and zonal
flows, in both the modified and unmodified cases.