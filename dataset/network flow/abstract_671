We model information traffic on scale-free networks by introducing the node
queue length L proportional to the node degree and its delivering ability C
proportional to L. The simulation gives the overall capacity of the traffic
system, which is quantified by a phase transition from free flow to congestion.
It is found that the maximal capacity of the system results from the case of
the local routing coefficient \phi slightly larger than zero, and we provide an
analysis for the optimal value of \phi. In addition, we report for the first
time the fundamental diagram of flow against density, in which hysteresis is
found, and thus we can classify the traffic flow with four states: free flow,
saturated flow, bistable, and jammed.