A combination of diamagnetic pumping and a nonlocal alpha-effect of the
Babcock-Leighton type in a solar dynamo model helps to reproduce observations
of solar magnetic activity. The period of the solar cycle can be reproduced
without reducing magnetic diffusivity in the bulk of the convection zone below
the standard mixing-length value of $10^{13}$ cm$^2$s$^{-1}$. The simulated
global fields are antisymmetric about the equator and the toroidal-to-poloidal
field ratio is about a thousand. The time-latitude diagrams of magnetic fields
in the model without meridional flow, however, differ from observations. Only
when the meridional flow is included and the alpha-effect profile peaking at
mid latitudes is applied, can the observational butterfly diagrams be
reproduced.