We consider multi-class single-server queueing networks that have a product
form stationary distribution. A new limit result proves a sequence of such
networks converges weakly to a stochastic flow level model. The stochastic flow
level model found is insensitive. A large deviation principle for the
stationary distribution of these multi-class queueing networks is also found.
Its rate function has a dual form that coincides with proportional fairness. We
then give the first rigorous proof that the stationary throughput of a
multi-class single-server queueing network converges to a proportionally fair
allocation. This work combines classical queueing networks with more recent
work on stochastic flow level models and proportional fairness. One could view
these seemingly different models as the same system described at different
levels of granularity: a microscopic, queueing level description; a
macroscopic, flow level description and a teleological, optimization
description.