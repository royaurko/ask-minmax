In heterogeneous networks such as today's Internet, the differentiated
services architecture promises to provide QoS guarantees through scalable
service differentiation. Traffic marking is an important component of this
framework. In this paper, we propose two new aggregate markers that are
stateless, scalable and fair. We leverage stateless Active Queue Management
(AQM) algorithms to enable fair and efficient token distribution among
individual flows of an aggregate. The first marker, Probabilistic Aggregate
Marker (PAM), uses the Token Bucket burst size to probabilistically mark
incoming packets to ensure TCP-friendly and proportionally fair marking. The
second marker, Stateless Aggregate Fair Marker (F-SAM) approximates fair
queueing techniques to isolate flows while marking packets of the aggregate. It
distributes tokens evenly among the flows without maintaining per-flow state.
Our simulation results show that our marking strategies show upto 30%
improvement over other commonly used markers while marking flow aggregates.
These improvements are in terms of better average throughput and fairness
indices, in scenarios containing heterogeneous traffic consisting of TCP (both
long lived elephants and short lived mice) and misbehaving UDP flows. As a
bonus, F-SAM helps the mice to win the war against elephants.