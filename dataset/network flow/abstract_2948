A grand challenge in network science is apparently the missing of a
structural theory of networks. The contributors have showed that the existence of
community structures is a universal phenomenon in real networks, and that
neither randomness nor preferential attachment is a mechanism of community
structures of network \footnote{A. Li, J. Li, and Y. Pan, Community structures
are definable in networks, and universal in the real world, To appear.}. This
poses a fundamental question: What are the mechanisms of community structures
of real networks? Here we found that homophyly is the mechanism of community
structures and a structural theory of networks. We proposed a homophyly model.
It was shown that networks of our model satisfy a series of new topological,
probabilistic and combinatorial principles, including a fundamental principle,
a community structure principle, a degree priority principle, a widths
principle, an inclusion and infection principle, a king node principle, and a
predicting principle etc, leading to a structural theory of networks. Our model
demonstrates that homophyly is the underlying mechanism of community structures
of networks, that nodes of the same community share common features, that power
law and small world property are never obstacles of the existence of community
structures in networks, and that community structures are definable in
networks.