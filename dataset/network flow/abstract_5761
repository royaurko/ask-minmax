The percolation properties of clustered networks are analyzed in detail. In
the case of weak clustering, we present an analytical approach that allows to
find the critical threshold and the size of the giant component. Numerical
simulations confirm the accuracy of our results. In more general terms, we show
that weak clustering hinders the onset of the giant component whereas strong
clustering favors its appearance. This is a direct consequence of the
differences in the $k$-core structure of the networks, which are found to be
totally different depending on the level of clustering. An empirical analysis
of a real social network confirms our predictions.