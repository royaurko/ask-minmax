Unopposed radiative cooling of plasma would lead to the cooling catastrophe,
a massive inflow of condensing gas, manifest in the core of galaxies, groups
and clusters. The last generation X-ray telescopes, Chandra and XMM, have
radically changed our view on baryons, indicating AGN heating as the balancing
counterpart of cooling. This work reviews our extensive investigation on
self-regulated heating. We argue that the mechanical feedback, based on massive
subrelativistic outflows, is the key to solving the cooling flow problem, i.e.
dramatically quenching the cooling rates for several Gyr without destroying the
cool-core structure. Using a modified version of the 3D hydrocode FLASH, we
show that bipolar AGN outflows can further reproduce fundamental observed
features, such as buoyant bubbles, weak shocks, metals dredge- up, and
turbulence. The latter is an essential ingredient to drive nonlinear thermal
instabilities, which cause the formation of extended cold gas, a residual of
the quenched cooling flow and, later, fuel for the feedback engine. Compared to
clusters, groups and galaxies require a gentler mechanical feedback, in order
to avoid catastrophic overheating. We highlight the essential characteristics
for a realistic AGN feedback, with emphasis on observational consistency.