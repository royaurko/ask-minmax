We study the trade-off between delivery delay and energy consumption in a
delay tolerant network in which a message (or a file) has to be delivered to
each of several destinations by epidemic relaying. In addition to the
destinations, there are several other nodes in the network that can assist in
relaying the message. We first assume that, at every instant, all the nodes
know the number of relays carrying the packet and the number of destinations
that have received the packet. We formulate the problem as a controlled
continuous time Markov chain and derive the optimal closed loop control (i.e.,
forwarding policy). However, in practice, the intermittent connectivity in the
network implies that the nodes may not have the required perfect knowledge of
the system state. To address this issue, we obtain an ODE (i.e., a
deterministic fluid) approximation for the optimally controlled Markov chain.
This fluid approximation also yields an asymptotically optimal open loop
policy. Finally, we evaluate the performance of the deterministic policy over
finite networks. Numerical results show that this policy performs close to the
optimal closed loop policy.