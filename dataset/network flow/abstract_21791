We give a new short proof of the index formula of Atiyah and Singer based on
combining Getzler's rescaling with Greiner's approach of the heat kernel
asymptotics. As application we can easily compute the Connes-Moscovici cyclic
cocycle of even and odd Dirac spectral triples, and then recover the
Atiyah-Singer index formula (even case) and the Atiyah-Patodi-Singer spectral
flow formula (odd case).