In this paper, we assume that the permanent market impact of metaorders is
linear and that the price is a martingale. Those two hypotheses enable us to
derive the evolution of the price from the dynamics of the flow of market
orders. For example, if the market order flow is assumed to follow a nearly
unstable Hawkes process, we retrieve the apparent long memory of the flow
together with a power law impact function which is consistent with the
celebrated square root law. We also link the long memory exponent of the sign
of market orders with the impact function exponent. One of the originalities of
our approach is that our results are derived without assuming that market
participants are able to detect the beginning of metaorders.