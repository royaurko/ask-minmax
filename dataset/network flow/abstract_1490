Many algorithms to detect communities in networks typically work without any
information on the cluster structure to be found, as one has no a priori
knowledge of it, in general. Not surprisingly, knowing some features of the
unknown partition could help its identification, yielding an improvement of the
performance of the method. Here we show that, if the number of clusters were
known beforehand, standard methods, like modularity optimization, would
considerably gain in accuracy, mitigating the severe resolution bias that
undermines the reliability of the results of the original unconstrained
version. The number of clusters can be inferred from the spectra of the
recently introduced non-backtracking and flow matrices, even in benchmark
graphs with realistic community structure. The limit of such two-step procedure
is the overhead of the computation of the spectra.