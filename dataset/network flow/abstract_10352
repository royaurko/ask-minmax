We propose and numerically implement a constitutive framework for granular
media that allows the material to traverse through its many common phases
during the flow process. When dense, the material is treated as a pressure
sensitive elasto-viscoplastic solid obeying a yield criterion and a plastic
flow rule given by the $\mu(I)$ inertial rheology of granular materials. When
the free volume exceeds a critical level, the material is deemed to separate
and is treated as disconnected, stress-free media. A Material Point Method
(MPM) procedure is written for the simulation of this model and many
demonstrations are provided in different geometries. By using the MPM
framework, extremely large strains and nonlinear deformations, which are common
in granular flows, are representable. The method is verified numerically and
its physical predictions are validated against known results.