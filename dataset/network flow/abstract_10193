We present the formal derivation of a new unidirectional model for unsteady
mixed flows in non uniform closed water pipe. In the case of free surface
incompressible flows, the \FS-model is formally obtained, using formal
asymptotic analysis, which is an extension to more classical shallow water
models. In the same way, when the pipe is full, we propose the \Pres-model,
which describes the evolution of a compressible inviscid flow, close to gas
dynamics equations in a nozzle. In order to cope the transition between a free
surface state and a pressured (i.e. compressible) state, we propose a mixed
model, the \PFS-model, taking into account changes of section and slope
variation.