We present an analysis of the percolation transition for general node removal
strategies valid for locally tree-like directed networks. On the basis of
heuristic arguments we predict that, if the probability of removing node $i$ is
$p_i$, the network disintegrates if $p_i$ is such that the largest eigenvalue
of the matrix with entries $A_{ij}(1-p_i)$ is less than 1, where $A$ is the
adjacency matrix of the network. The knowledge or applicability of a Markov
network model is not required by our theory, thus making it applicable to
situations not covered by previous works. We test our predicted percolation
criterion against numerical results for different networks and node removal
strategies.