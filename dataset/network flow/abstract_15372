In this paper, we consider general two-way relay networks (TWRNs) with two
source and N relay nodes. A distributed differential space time coding with
analog network coding (DDSTC-ANC) scheme is proposed. A simple blind estimation
and a differential signal detector are developed to recover the desired signal
at each source. The pairwise error probability (PEP) and block error rate
(BLER) of the DDSTC-ANC scheme are analyzed. Exact and simplified PEP
expressions are derived. To improve the system performance, the optimum power
allocation (OPA) between the source and relay nodes is determined based on the
simplified PEP expression. The analytical results are verified through
simulations.