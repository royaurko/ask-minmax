The main theme of this paper is a relative version of the almost existence
theorem for periodic orbits of autonomous Hamiltonian systems.
  We show that almost all low levels of a function on a geometrically bounded
symplectically aspherical manifold carry contractible periodic orbits of the
Hamiltonian flow, provided that the function attains its minimum along a closed
symplectic submanifold. As an immediate consequence, we obtain the existence of
contractible periodic orbits on almost all low energy levels for twisted
geodesic flows with symplectic magnetic field. We give examples of functions
with a sequence of regular levels without periodic orbits, converging to an
isolated, but very degenerate, minimum.
  The proof of the relative almost existence theorem hinges on the notion of
the relative Hofer-Zehnder capacity and on showing that this capacity of a
small neighborhood of a symplectic submanifold is finite. The latter is carried
out by proving that the flow of a Hamiltonian with sufficiently large variation
has a non-trivial contractible one-periodic orbit, when the Hamiltonian is
constant and equal to its maximum near a symplectic submanifold and supported
in a neighborhood of the submanifold.