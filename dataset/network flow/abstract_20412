We show that the instability leading to the decay of the one-dimensional
superfluid flow through a penetrable barrier are due to the black-hole lasing
effect. This dynamical instability is triggered by modes resonating in an
effective cavity formed by two horizons enclosing the barrier. The location of
the horizons is set by $v(x)=c(x)$, with $v(x),c(x)$ being the local fluid
velocity and sound speed, respectively. We compute the critical velocity
analytically and show that it is univocally determined by the horizons
configuration. In the limit of broad barriers, the continuous spectrum at the
origin of the Hawking-like radiation and of the Landau energetic instability is
recovered.