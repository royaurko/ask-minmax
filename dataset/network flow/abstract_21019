In a diffusion-based molecular communication network, transmitters and
receivers communicate by using signalling molecules (or ligands) in a fluid
medium. This paper assumes that the transmitter uses different chemical
reactions to generate different emission patterns of signalling molecules to
represent different transmission symbols, and the receiver consists of
receptors. When the signalling molecules arrive at the receiver, they may react
with the receptors to form ligand-receptor complexes. Our goal is to study the
demodulation in this setup assuming that the transmitter and receiver are
synchronised. We derive an optimal demodulator using the continuous history of
the number of complexes at the receiver as the input to the demodulator. We do
that by first deriving a communication model which includes the chemical
reactions in the transmitter, diffusion in the transmission medium and the
ligand-receptor process in the receiver. This model, which takes the form of a
continuous-time Markov process, captures the noise in the receiver signal due
to the stochastic nature of chemical reactions and diffusion. We then adopt a
maximum a posterior framework and use Bayesian filtering to derive the optimal
demodulator. We use numerical examples to illustrate the properties of this
optimal demodulator.