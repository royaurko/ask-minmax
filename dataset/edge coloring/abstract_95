In this paper, we consider edge colorings of the complete graph, where the
vertices are points in $\mathbb{R}^d$, and each color class $E_i$ is defined by
a semi-algebraic relation of constant complexity on the point set. One of our
main results is a multicolor regularity lemma: For any $0<\varepsilon<1$, the
vertex set of any such edge colored complete graph with $m$ colors can be
equitably partitioned into at most $(m/\varepsilon)^c$ parts, such that all but
at most an $\varepsilon$-fraction of the pairs of parts are monochromatic
between them. Here $c>0$ is a constant that depends on the dimension $d$ and
the complexity of the semi-algebraic relations. This generalizes a theorem of
Alon, Pach, Pinchasi, Radoi\v{c}i\'c and Sharir, and Fox, Pach, and Suk. As an
application, we prove the following result.
  For fixed integers $p$ and $q$ with $2\leq q \leq {p\choose 2}$, a
$(p,q)$-coloring is an edge-coloring of a complete graph in which every $p$
vertices induce at least $q$ distinct colors. The function $f^{\ast}(n,p,q)$ is
the minimum integer $m$ such that there is a $(p,q)$-coloring of $K_n$ with at
most $m$ colors, where the vertices of $K_n$ are points in $\mathbb{R}^d$, and
each color class can be defined as a semi-algebraic relation of constant
complexity. Here we show that $f^{\ast}(n,p,\lceil\log p\rceil + 1) \geq
\Omega\left(n^{\frac{1}{c\log^2p}}\right),$ and $f^{\ast}(n,p, \lceil\log
p\rceil) \leq O(\log n)$, thus determining the exact value of $q$ at which
$f^{\ast}(n,p,q)$ changes from logarithmic to polynomial in $n$.
  We also show the following result on a distinct distances problem of
Erd\H{o}s. Let $V$ be an $n$-element planar point set such that any $p$ members
of $V$ determine at least ${p\choose 2} - p + 6$ distinct distances. Then $V$
determines at least $ n^{\frac{8}{7} - o(1)}$ distinct distances.