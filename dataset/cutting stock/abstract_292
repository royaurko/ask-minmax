A stock loan is a contract whereby a stockholder uses shares as collateral to
borrow money from a bank or financial institution. In Xia and Zhou (2007), this
contract is modeled as a perpetual American option with a time varying strike
and analyzed in detail within a risk--neutral framework. In this paper, we
extend the valuation of such loans to an incomplete market setting, which takes
into account the natural trading restrictions faced by the client. When the
maturity of the loan is infinite, we use a time--homogeneous utility
maximization problem to obtain an exact formula for the value of the loan fee
to be charged by the bank. For loans of finite maturity, we characterize the
fee using variational inequality techniques. In both cases we show analytically
how the fee varies with the model parameters and illustrate the results
numerically.