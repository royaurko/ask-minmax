We present an extension of the Johansen-Ledoit-Sornette (JLS) model to
include an additional pricing factor called the "Zipf factor", which describes
the diversification risk of the stock market portfolio. Keeping all the
dynamical characteristics of a bubble described in the JLS model, the new model
provides additional information about the concentration of stock gains over
time. This allows us to understand better the risk diversification and to
explain the investors' behavior during the bubble generation. We apply this new
model to two famous Chinese stock bubbles, from August 2006 to October 2007
(bubble 1) and from October 2008 to August 2009 (bubble 2). The Zipf factor is
found highly significant for bubble 1, corresponding to the fact that valuation
gains were more concentrated on the large firms of the Shanghai index. It is
likely that the widespread acknowledgement of the 80-20 rule in the Chinese
media and discussion forums led many investors to discount the risk of a lack
of diversification, therefore enhancing the role of the Zipf factor. For bubble
2, the Zipf factor is found marginally relevant, suggesting a larger weight of
market gains on small firms. We interpret this result as the consequence of the
response of the Chinese economy to the very large stimulus provided by the
Chinese government in the aftermath of the 2008 financial crisis.