All-optical ideas provide a potential to dramatically cut off the size and
cost of x-ray light sources to the university-laboratory scale, with the
combination of the laser-plasma accelerator and the laser undulator. However,
the large longitudinal energy spread of the electron beam from laser-plasma
accelerator may hinder the way to high brightness of these all-optical light
sources. In this paper, the beam energy spread effect is proposed to be
significantly compensated by the natural transverse gradient of a laser
undulator when properly transverse-dispersing the electron beam. Theoretical
analysis and numerical simulations on conventional laser-Compton scattering
sources and high-gain all-optical x-ray free-electron lasers with the electron
beams from laser-plasma accelerators are presented.