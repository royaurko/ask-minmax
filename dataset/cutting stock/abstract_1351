Two structures in the all-particle energy spectrum of cosmic rays, the knee
at
 4 PeV and the second knee around 400 PeV are proposed to be explained by a
phenomenological model, the poly gonato model, connecting direct and indirect
measurements. Within this approach the knee is caused by a successive cut-off
of the flux for individual elements starting with protons at 4.5 PeV. The
second knee is interpreted as the end of the stable nuclei of the periodic
table. To check some key features of this model calculations of the cosmic ray
energy spectrum and the propagation path length at energies from 10^14 to 10^19
eV have been performed within the framework of a combined approach based on the
diffusion model of cosmic rays and a direct simulation of charged-particle
trajectories in the Galaxy.