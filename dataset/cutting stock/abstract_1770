We present a new particle code for modelling the evolution of galaxies. The
code is based on a multi-phase description for the interstellar medium (ISM).
We included star formation (SF), stellar feedback by massive stars and
planetary nebulae, phase transitions and interactions between gas clouds and
ambient diffuse gas, namely condensation, evaporation, drag and energy
dissipation. The latter is realised by radiative cooling and inelastic
cloud-cloud collisions. We present new schemes for SF and stellar feedback.
They include a consistent calculation of the star formation efficiency (SFE)
based on ISM properties as well as a detailed redistribution of the feedback
energy into the different ISM phases. As a first test example we show a model
of the evolution of a present day Milky-Way-type galaxy. Though the model
exhibits a quasi-stationary behaviour in global properties like mass fractions
or surface densities, the evolution of the ISM is locally strongly variable
depending on the local SF and stellar feedback. We start only with two distinct
phases, but a three-phase ISM is formed soon consisting of cold molecular
clouds, a warm gas disk and a hot gaseous halo. Hot gas is also found in
bubbles in the disk accompanied by type II supernovae explosions. The star
formation rate (SFR) is ~1.6 M_sun/year on average decreasing slowly with time
due to gas consumption. In order to maintain a constant SFR gas replenishment,
e.g. by infall, of the order 1 M_sun/year is required. Our model is in fair
agreement with Kennicutt's (1998) SF law including the cut-off at ~10
M_sun/pc^2. Models with a constant SFE, i.e. no feedback on the SF, fail to
reproduce Kennicutt's law.