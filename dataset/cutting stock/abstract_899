We present a macroeconomic agent-based model that combines several mechanisms
operating at the same timescale, while remaining mathematically tractable. It
comprises enterprises and workers who compete in a job market and a commodity
goods market. The model is stock-flow consistent; a bank lends money charging
interest rates, and keeps track of equities. Important features of the model
are heterogeneity of enterprises, existence of bankruptcies and creation of new
enterprises, as well as productivity increase. The model's evolution reproduces
empirically found regularities for firm size and growth rate distributions. It
combines probabilistic elements and deterministic dynamics, with relative
weights that may be modified according to the considered problem or the belief
of the modeler. We discuss statistical regularities on enterprises, the origin
and the amplitude of endogeneous fluctuations of the system's steady state, as
well as the role of the interest rate and the credit volume. We also summarize
obtained results which are not discussed in detail in this paper.