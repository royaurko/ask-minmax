Grids can efficiently deal with challenging computational and data processing tasks which cutting edge science is generating today. So-called e-Science grids cope with these complex task by deploying geographically distributed server infrastructure, interconnected by high speed networks. The latter benefit from optical technology, offering low latencies and high bandwidths, thus giving rise to so-called optical grids or lambda grids. In this paper, we address the dimensioning problem of such grids: how to decide how much server infrastructure to deploy, at which locations in a given topology, the amount of network capacity to provide and which routes to follow along them. Compared to earlier work, we propose an integrated solution solving these questions in an integrated way, i.e., we jointly optimize network and server capacity, and incorporate resiliency against both network and server failures. Assuming we are given the amount of resource reservation requests arriving at each network node (where a resource reservation implies to reserve both processing capacity at a server site, and a network connection towards it), we solve the problem of first choosing a predetermined number of server locations to use, and subsequently determine the routes to follow while minimizing resource requirements. In a case study on a meshed European network comprising 28 nodes and 41 links, we show that compared to classical (i.e. without relocation) shared path protection against link failures only, we can offer resilience against both single link and network failures by adding about 55% extra server capacity, and 26% extra wavelengths.