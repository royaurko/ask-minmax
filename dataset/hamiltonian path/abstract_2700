We derive the Hamiltonian formulation of classical mechanics directly,
without reference to Lagrangian mechanics. We start from the definition of
states in terms of labels used to identify them, and show how, under a
deterministic and reversible process, the conservation of the cardinality of
the labels leads to Hamilton's equations.