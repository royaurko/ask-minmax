By using suitably improved surface integrals, we give a unified geometric
derivation of the generalized Smarr relation for higher dimensional Kerr black
holes which is valid both in flat and in anti-de Sitter backgrounds. The
improvement of the surface integrals, which allows one to use them
simultaneously at infinity and on the horizon, consists in integrating them
along a path in solution space. Path independence of the improved charges is
discussed and explicitly proved for the higher dimensional Kerr AdS black
holes. It is also shown that the charges for these black holes can be correctly
computed from the standard Hamiltonian or Lagrangian surface integrals.