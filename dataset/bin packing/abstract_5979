No true extrasolar Earth analog is known. Hundreds of planets have been found
around Sun-like stars that are either Earth-sized but on shorter periods, or
else on year-long orbits but somewhat larger. Under strong assumptions,
exoplanet catalogs have been used to make an extrapolated estimate of the rate
at which Sun-like stars host Earth analogs. These studies are complicated by
the fact that every catalog is censored by non-trivial selection effects and
detection efficiencies, and every property (period, radius, etc.) is measured
noisily. Here we present a general hierarchical probabilistic framework for
making justified inferences about the population of exoplanets, taking into
account survey completeness and, for the first time, observational
uncertainties. We are able to make fewer assumptions about the distribution
than previous studies; we only require that the occurrence rate density be a
smooth function of period and radius (employing a Gaussian process). By
applying our method to synthetic catalogs, we demonstrate that it produces more
accurate estimates of the whole population than standard procedures based on
weighting by inverse detection efficiency. We apply the method to an existing
catalog of small planet candidates around G dwarf stars (Petigura et al. 2013).
We confirm a previous result that the radius distribution changes slope near
Earth's radius. We find that the rate density of Earth analogs is about 0.02
(per star per natural logarithmic bin in period and radius) with large
uncertainty. This number is much smaller than previous estimates made with the
same data but stronger assumptions.