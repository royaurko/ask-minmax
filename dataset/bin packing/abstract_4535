For the Casimir piston filled with an inhomogeneous medium, the Casimir
energy is regularized and expressed with cylinder kernel coefficients by using
the first-order perturbation theory. When the refraction index of the medium is
smoothly inhomogeneous (i.e., derivatives of all orders exist), logarithmically
cutoff-dependent term in Casimir energy is found. We show that in the piston
model this term vanishes in the force and thus the Casimir force is always
cutoff-independent, but this term will remain in the force in the half-space
model and must be removed by additional regularization. We investigate the
inhomogeneity of an exponentially decaying profile, and give the first-order
corrections to both free Casimir energy and Casimir force. The present method
can be extended to other inhomogeneous profiles. Our results should be useful
for future relevant calculations and experimental studies.