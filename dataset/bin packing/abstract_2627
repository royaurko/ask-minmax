We analyse a z<0.1 galaxy sample from the Sloan Digital Sky Survey focusing
on the variation of the galaxy colour bimodality with stellar mass and
projected neighbour density Sigma, and on measurements of the galaxy stellar
mass functions. The characteristic mass increases with environmental density
from about 10^10.6 Msun to 10^10.9 Msun (Kroupa IMF, H_0=70) for Sigma in the
range 0.1--10 per Mpc^2. The galaxy population naturally divides into a red and
blue sequence with the locus of the sequences in colour-mass and
colour-concentration index not varying strongly with environment. The fraction
of galaxies on the red sequence is determined in bins of 0.2 in log Sigma and
log mass (12 x 13 bins). The red fraction f_r generally increases continuously
in both Sigma and mass such that there is a unified relation: f_r =
F(Sigma,mass). Two simple functions are proposed which provide good fits to the
data. These data are compared with analogous quantities in semi-analytical
models based on the Millennium N-body simulation: the Bower et al. (2006) and
Croton et al. (2006) models that incorporate AGN feedback. Both models predict
a strong dependence of the red fraction on stellar mass and environment that is
qualitatively similar to the observations. However, a quantitative comparison
shows that the Bower et al. model is a significantly better match; this appears
to be due to the different treatment of feedback in central galaxies.