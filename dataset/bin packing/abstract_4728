A colloidal system of spheres interacting with both a deep and narrow
attractive potential and a shallow long-ranged barrier exhibits a prepeak in
the static structure factor. This peak can be related to an additional
mesoscopic length scale of clusters and/or voids in the system. Simulation
studies of this system have revealed that it vitrifies upon increasing the
attraction into a gel-like solid at intermediate densities. The dynamics at the
mesoscopic length scale corresponding to the prepeak represents the slowest
mode in the system. Using mode coupling theory with all input directly taken
from simulations, we reveal the mechanism for glassy arrest in the system at
40% packing fraction. The effects of the low-q peak and of polydispersity are
considered in detail. We demonstrate that the local formation of physical bonds
is the process whose slowing down causes arrest.
  It remains largely unaffected by the large-scale heterogeneities, and sets
the clock for the slow cluster mode. Results from mode-coupling theory without
adjustable parameters agree semi-quantitatively with the local density
correlators but overestimate the lifetime of the mesoscopic structure (voids).