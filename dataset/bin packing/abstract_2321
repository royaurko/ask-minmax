We use a sample of 87 rest-frame UV-selected star-forming galaxies with mean
spectroscopic redshift z=2.26 to study the correlation between metallicity and
stellar mass at high redshift. Using stellar masses determined from SED fitting
to 0.3-8 micron photometry, we divide the sample into six bins in stellar mass,
and construct six composite H-alpha+[NII] spectra from all of the objects in
each bin. We estimate the mean oxygen abundance in each bin from the
[NII]/H-alpha ratio, and find a monotonic increase in metallicity with
increasing stellar mass, from 12+log(O/H) < 8.2 for galaxies with <M_star> =
2.7e9 Msun to 12+log(O/H) = 8.6 for galaxies with <M_star> = 1e11 Msun. We use
the empirical relation between star formation rate density and gas density to
estimate the gas fractions of the galaxies, finding an increase in gas fraction
with decreasing stellar mass. These gas fractions combined with the observed
metallicities allow the estimation of the effective yield y_eff as a function
of stellar mass; in constrast to observations in the local universe which show
a decrease in y_eff with decreasing baryonic mass, we find a slight increase.
Such a variation of metallicity with gas fraction is best fit by a model with
supersolar yield and an outflow rate ~4 times higher than the star formation
rate. We conclude that the mass-metallicity relation at high redshift is driven
by the increase in metallicity as the gas fraction decreases through star
formation, and is likely modulated by metal loss from strong outflows in
galaxies of all masses. There is no evidence for preferential loss of metals
from low mass galaxies as has been suggested in the local universe. [Abridged]