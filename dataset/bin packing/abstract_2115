We present a method to discretize the Kohn-Sham Hamiltonian matrix in the
pseudopotential framework by a small set of basis functions automatically
contracted from a uniform basis set such as planewaves. Each basis function is
localized around an element, which is a small part of the global domain
containing multiple atoms. We demonstrate that the resulting basis set achieves
meV accuracy for 3D densely packed systems with a small number of basis
functions per atom. The procedure is applicable to insulating and metallic
systems.