We are interested in situations where the Hausdorff measure and Hausdorff
content of a set are equal in the critical dimension. Our main result shows
that this equality holds for any subset of a self-similar set corresponding to
a nontrivial cylinder of an irreducible subshift of finite type, and thus also
for any self-similar or graph-directed self-similar set, regardless of
separation conditions. The main tool in the proof is an exhaustion lemma for
Hausdorff measure based on the Vitali Covering Theorem.
  We also give several examples showing that one cannot hope for the equality
to hold in general if one moves in a number of the natural directions away from
`self-similar'. For example, it fails in general for self-conformal sets,
self-affine sets and Julia sets. We also give applications of our results
concerning Ahlfors regularity. Finally we consider an analogous version of the
problem for packing measure. In this case we need the strong separation
condition and can only prove that the packing measure and $\delta$-approximate
packing pre-measure coincide for sufficiently small $\delta>0$.