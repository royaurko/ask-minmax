We study the microscale propulsion of a rotating helical filament confined by
a cylindrical tube, using a boundary-element method for Stokes flow that
accounts for helical symmetry. We determine the effect of confinement on
swimming speed and power consumption. Except for a small range of tube radii at
the tightest confinements, the swimming speed at fixed rotation rate increases
monotonically as the confinement becomes tighter. At fixed torque, the swimming
speed and power consumption depend only on the geometry of the filament
centerline, except at the smallest pitch angles for which the filament
thickness plays a role. We find that the `normal' geometry of
\textit{Escherichia coli} flagella is optimized for swimming efficiency,
independent of the degree of confinement. The efficiency peaks when the arc
length of the helix within a pitch matches the circumference of the cylindrical
wall. We also show that a swimming helix in a tube induces a net flow of fluid
along the tube.