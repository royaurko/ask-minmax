Given a set-valued stochastic process $(V_t)_{t=0}^T$, we say that the
martingale selection problem is solvable if there exists an adapted sequence of
selectors $\xi_t\in V_t$, admitting an equivalent martingale measure. The aim
of this note is to underline the connection between this problem and the
problems of asset pricing in general discrete-time market models with portfolio
constraints and transaction costs. For the case of relatively open convex sets
$V_t(\omega)$ we present effective necessary and sufficient conditions for the
solvability of a suitably generalized martingale selection problem. We show
that this result allows to obtain computationally feasible formulas for the
price bounds of contingent claims. For the case of currency markets we also
give a comment on the first fundamental theorem of asset pricing.