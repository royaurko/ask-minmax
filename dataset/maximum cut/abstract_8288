There are two distinct regimes of the first order Fermi acceleration at
shocks. The first is a linear (test particle) regime in which most of the shock
energy goes into thermal and bulk motion of the plasma. The second is an
efficient regime when it goes into accelerated particles. Although the
transition region between them is narrow, we identify the factors that drive
the system to a {\it self-organized critical state} between those two. Using an
analytic solution, we determine this critical state and calculate the spectra
and maximum energy of accelerated particles.