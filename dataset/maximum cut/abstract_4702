The spin-fermion model has long been used to describe the quantum-critical
behavior of 2d electron systems near an antiferromagnetic (AFM) instability.
Recently, the standard procedure to integrate out the fermions to obtain an
effective action for spin waves has been questioned in the clean case. We show
that in the presence of disorder, the single fermion loops display two
crossover scales: upon lowering the energy, the singularities of the clean
fermionic loops are first cut off, but below a second scale new singularities
arise that lead again to marginal scaling. In addition, impurity lines between
different fermion loops generate new relevant couplings which dominate at low
energies. We outline a non-linear sigma model formulation of the single-loop
problem, which allows to control the higher singularities and provides an
effective model in terms of low-energy diffusive as well as spin modes.