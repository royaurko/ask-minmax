We investigate how the removal of interstellar material by stellar feedback
limits the efficiency of star formation in molecular clouds and how this
determines the shape of the mass function of young star clusters. In
particular, we derive relations between the power-law exponents of the mass
functions of the clouds and clusters in the limiting regimes in which the
feedback is energy-driven and momentum-driven, corresponding to minimum and
maximum radiative losses and likely to bracket all realistic cases. We find
good agreement between the predicted and observed exponents, especially for
momentum-driven feedback, provided the protoclusters have roughly constant mean
surface density, as indicated by observations of the star-forming clumps within
molecular clouds. We also consider a variety of specific feedback mechanisms,
concluding that HII regions inflated by radiation pressure predominate in
massive protoclusters, a momentum-limited process when photons can escape after
only a few interactions with dust grains. We then present a first estimate of
the star formation efficiency in this case, finding that it depends on the
masses and sizes of the protoclusters only through their mean surface density,
thus ensuring consistency between the observed power-law exponents of the mass
functions of the clouds and clusters. The numerical value of this efficiency is
also consistent with observations.