In this paper we obtain a splitting theorem for the symmetric diffusion
operator $\Delta_\phi=\Delta-\left<\nabla\phi,\nabla \right>$ and a
non-constant $C^3$ function $f$ in a complete Riemannian manifold $M$, under
the assumptions that the Ricci curvature associated with $\Delta_\phi$
satisfies ${\rm Ric}_\phi(\nabla f,\nabla f)\ge 0$, that $|\nabla f|$ attains a
maximum at $M$ and that $\Delta_\phi$ is non-decreasing along the orbits of
$\nabla f$. The proof uses the general fact that a complete manifold $M$ with a
non-constant smooth function $f$ with parallel gradient vector field must be a
Riemannian product $M=N\times \mathbb{R}$, where $N$ is any level set of $f$.