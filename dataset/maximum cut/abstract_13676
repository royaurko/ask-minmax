Let d=(d_1,d_2,..., d_n) be a vector of non-negative integers. We study the
number of symmetric 0-1 matrices whose row sum vector equals d. While previous
work has focussed on the case of zero diagonal, we allow diagonal entries to
equal 1. When forming the row sum, each diagonal entry is multiplied by a
factor of D, where D is 1 or 2. The case D=1 corresponds to enumeration by the
usual row sum of matrices. The case D=2 corresponds to enumeration by degree
sequence of undirected graphs with loops but no repeated edges, due to the
convention that a loop contributes 2 to the degree of its incident vertex. We
obtain asymptotically precise formulae for the number of matrices in the sparse
range (where, roughly, the maximum row sum is o(n^{1/2})), and in the dense
range (where, roughly, the average row sum is proportional to n and the row
sums do not vary greatly).