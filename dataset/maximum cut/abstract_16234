We derive the effects of DM decays and annihilations on structure formation.
We consider moderately massive DM particles (sterile neutrinos and light DM),
as they are expected to give the maximum contribution to heating and
reionization. The energy injection from DM decays and annihilations produces
both an enhancement in the abundance of coolants (H2 and HD) and an increase of
gas temperature. We find that for all the considered DM models the critical
halo mass for collapse, m_crit, is generally higher than in the unperturbed
case. However, the variation of m_crit is small. In the most extreme case, i.e.
considering light DM annihilations (decays) and halos virializing at redshift
z_vir>10 (z_vir~10), m_crit increases by a factor ~4 (~2). In the case of
annihilations the variations of m_crit are also sensitive to the assumed
profile of the DM halo. Furthermore, we note that the fraction of gas which is
retained inside the halo is substantially reduced (to ~40 per cent of the
cosmic value), especially in the smallest halos, as a consequence of the energy
injection by DM decays and annihilations.