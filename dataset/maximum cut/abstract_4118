The Riemann, Ricci and Einstein tensors for N-dimensional spherically
symmetric spacetimes in various systems of coordinates are studied, and the
general metric for conformally flat spacetimes is given. As an application, all
the Friedmann-Robertson-Walker-like solutions for a perfect fluid with an
equation of state $p = k \rho$ are found. Then, these solutions are used to
model the gravitational collapse of a compact ball, by first cutting them along
a timelike hypersurface and then joining them with asymptotically flat Vaidya
solutions. It is found that when the collapse has continuous self-similarity,
the formation of black holes always starts with zero mass, and when the
collapse has no such symmetry, the formation of black holes always starts with
a finite non-zero mass.