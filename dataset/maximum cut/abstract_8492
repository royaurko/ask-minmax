Within the framework of maximum entropy principle we show that the
finite-size long-range Ising model is the adequate model for the description of
homogeneous credit portfolios and the computation of credit risk when default
correlations between the borrowers are included. The exact analysis of the
model suggest that when the correlation increases a first-order-like transition
may occur inducing a sudden risk increase. Such a feature is not reproduced by
the standard models used in credit risk modeling.