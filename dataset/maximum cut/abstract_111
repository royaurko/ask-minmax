The theory of shock acceleration predicts the maximum particle energy to be
limited only by the acceleration time and the size (geometry) of the shock.
This led to optimistic estimates for the galactic cosmic ray energy achievable
in the SNR shocks. The estimates imply that the accelerated particles, while
making no strong impact on the shock structure (test particle approach) are
nevertheless scattered by strong self-generated Alfven waves (turbulent boost)
needed to accelerate them quickly. We demonstrate that these two assumptions
are in conflict when applied to SNRs of the age required for cosmic ray
acceleration to the ``knee'' energy.
  We study the combined effect of acceleration nonlinearity (shock modification
by accelerated particles) and wave generation on the acceleration process. We
show that the refraction of self-generated waves resulting from the
deceleration of the plasma flow by the pressure of energetic particles causes
enhanced losses of these particles. This effect slows down the acceleration and
changes the shape of particle spectrum near the cut-off. The implications for
observations of TeV emission from SNR remnants are also discussed.