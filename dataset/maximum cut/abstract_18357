[abridged] We study the s-process in AGB stars using three different stellar
evolutionary models computed for a 3Msun and solar metallicity star. First we
investigate the formation and the efficiency of the main neutron source. We
parametrically vary the number of protons mixed from the envelope into the C12
rich core. For p/C12 > 0.3, mainly N14 is produced, which represent a major
neutron poison. The amount of C12 in the He intershell and the maximum value of
the time-integrated neutron flux are proportional. Then we generate detailed
s-process calculations on the basis of stellar evolutionary models constructed
with three different codes. One code considers convective hydrodynamic
overshoot that depends on a free parameter f, and results in partial mixing
beyond convective boundaries, the most efficient third dredge up and the
formation of the C13 pocket. For the other two codes an identical C13 pocket is
introduced in the post-processing nucleosynthesis calculations. The models
generally reproduce the spectroscopically observed s-process enhancements. The
results of the cases without overshoot are remarkably similar. The code
including hydrodynamic overshoot produces a He intershell composition near to
that observed in H-deficient central stars of planetary nebulae. As a result of
this intershell dredge up the neutron fluxes have a higher efficiency, both
during the interpulse periods and within thermal pulses. The s-element
distribution is pushed toward the heavier s-process elements and large
abundances of neutron-rich isotopes fed by branching points in the s-process
path are produced. Several observational constraints are better matched by the
models without overshoot. Our study need to be extended to different masses and
metallicities and in the space of the free overshoot parameter f.