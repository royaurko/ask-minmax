We aim to develop a nuclear energy density functional that can be
simultaneously applied to finite nuclei and neutron stars. We use the
self-consistent nuclear density functional theory (DFT) with Skyrme energy
density functionals and covariance analysis to assess correlations between
observables for finite nuclei and neutron stars. In a first step two energy
functionals -- a high density energy functional giving reasonable neutron
properties, and a low density functional fitted to nuclear properties -- are
matched. In a second step, we optimize a new functional using exactly the same
protocol as in earlier studies pertaining to nuclei but now including neutron
star data. This allows direct comparisons of performance of the new functional
relative to the standard one. The new functional TOV-min yields results for
nuclear bulk properties (energy, r.m.s. radius, diffraction radius, surface
thickness) that are of the same quality as those obtained with the established
Skyrme functionals, including SV-min. When comparing SV-min and TOV-min,
isoscalar nuclear matter indicators vary slightly while isovector properties
are changed considerably. We discuss neutron skins, dipole polarizability,
separation energies of the heaviest elements, and proton and neutron drip
lines. We confirm a correlation between the neutron skin of $^{208}$Pb and the
neutron star radius. We demonstrate that standard energy density functionals
optimized to nuclear data do not carry information on the expected maximum
neutron star mass, and that predictions can only be made within an extremely
broad uncertainty band. For atomic nuclei, the new functional TOV-min performs
at least as well as the standard nuclear functionals, but it also reproduces
expected neutron star data within assumed error bands.