Evaluation of large-scale network systems and applications is usually done in
one of three ways: simulations, real deployment on Internet, or on an emulated
network testbed such as a cluster. Simulations can study very large systems but
often abstract out many practical details, whereas real world tests are often
quite small, on the order of a few hundred nodes at most, but have very
realistic conditions. Clusters and other dedicated testbeds offer a middle
ground between the two: large systems with real application code. They also
typically allow configuring the testbed to enable repeatable experiments. In
this paper we explore how to run large BitTorrent experiments in a cluster
setup. We have chosen BitTorrent because the source code is available and it
has been a popular target for research. Our contribution is twofold. First, we
show how to tweak and configure the BitTorrent client to allow for a maximum
number of clients to be run on a single machine, without running into any
physical limits of the machine. Second, our results show that the behavior of
BitTorrent can be very sensitive to the configuration and we revisit some
existing BitTorrent research and consider the implications of our findings on
previously published results. As we show in this paper, BitTorrent can change
its behavior in subtle ways which are sometimes ignored in published works.