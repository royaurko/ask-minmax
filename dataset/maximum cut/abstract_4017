We investigate the free energy and the penetration depth of a
quasi-two-dimensional d-wave superconductor in the presence of a weak magnetic
field by taking account of thermal, nonlocal and nonlinear effects. In an
approximation in which the superfluid velocity $v_s$ is assumed to be slowly
varying, the free energy is calculated and compared with available results in
several limiting cases. It is shown that either nonlocal or nonlinear effects
may cut off the linear-$T$ dependence of both the free energy and the
penetration depth in all the experimental geometries. At extremely low $T$, the
nonlocal effects will also generically modify the linear $H$ dependence of the
penetration depth ("nonlinear Meissner effect") in most experimental
geometries, but for supercurrents oriented along the nodal directions, the
effect may be recovered. We compare our predictions with existing experiments
on the cuprate superconductors.