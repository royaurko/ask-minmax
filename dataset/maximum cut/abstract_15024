We investigate the applicability of fluid dynamics in ultrarelativistic heavy
ion (AA) collisions and high multiplicity proton nucleus (pA) collisions. In
order for fluid dynamics to be applicable the microscopic and macroscopic
distance/time scales of the system have to be sufficiently separated. The
degree of separation is quantified by the ratio between these scales, usually
referred to as the Knudsen number. In this work, we calculate the Knudsen
numbers reached in fluid dynamical simulations of AA and pA collisions at RHIC
and LHC energies. For this purpose, we consider different choices of shear
viscosity parametrizations, initial states and initialization times. We then
estimate the values of shear viscosity for which the fluid dynamical
description of ultrarelativistic AA and pA collisions breaks down. In
particular, we study how such values depend on the centrality, in the case of
AA collision, and multiplicity, in the case of pA collision. We found that the
maximum viscosity in AA collisions is of the order $\eta/s \sim 0.1 \ldots
0.2$, which is similar in magnitude to the viscosities currently employed in
simulations of heavy ion collisions. For pA collisions, we found that such
limit is significantly lower, being less than $\eta/s=0.08$