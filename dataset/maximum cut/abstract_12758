In a recent paper [Gorshkov et al., Phys. Rev. Lett. 98, 123601 (2007)], we
presented a universal physical picture for describing a wide range of
techniques for storage and retrieval of photon wave packets in Lambda-type
atomic media in free space, including the adiabatic reduction of the photon
group velocity, pulse-propagation control via off-resonant Raman techniques,
and photon-echo based techniques. This universal picture produced an optimal
control strategy for photon storage and retrieval applicable to all approaches
and yielded identical maximum efficiencies for all of them. In the present
paper, we present the full details of this analysis as well some of its
extensions, including the discussion of the effects of non-degeneracy of the
two lower levels of the Lambda system. The analysis in the present paper is
based on the intuition obtained from the study of photon storage in the cavity
model in the preceding paper [Gorshkov et al., Phys. Rev. A 76, 033804 (2007)].