The afterglow emission from gamma-ray bursts (GRBs) is usually interpreted as
synchrotron radiation from electrons accelerated at the GRB external shock,
that propagates with relativistic velocities into the magnetized interstellar
medium. By means of multi-dimensional particle-in-cell simulations, we
investigate the acceleration performance of weakly magnetized relativistic
shocks, in the magnetization range 0<sigma<1e-1. The pre-shock magnetic field
is orthogonal to the flow, as generically expected for relativistic shocks. We
find that relativistic perpendicular shocks propagating in electron-positron
plasmas are efficient particle accelerators if the magnetization is sigma<1e-3.
For electron-ion plasmas, the transition to efficient acceleration occurs for
sigma<3e-5. Here, the acceleration process proceeds similarly for the two
species, since the electrons enter the shock nearly in equipartition with the
ions, as a result of strong pre-heating in the self-generated upstream
turbulence. In both electron-positron and electron-ion shocks, we find that the
maximum energy of the accelerated particles scales in time as t^(1/2). This
scaling is shallower than the so-called (and commonly assumed) Bohm limit, and
it naturally results from the small-scale nature of the Weibel turbulence
generated in the shock layer. In magnetized plasmas, the energy of the
accelerated particles increases until it reaches a saturation value that scales
with the magnetization as sigma^(-1/4). Further energization is prevented by
the fact that the self-generated turbulence is confined within a finite region
of thickness proportional to sigma^(-1/2) around the shock. Our results can
provide physically-grounded inputs for models of non-thermal emission from a
variety of astrophysical sources, with particular relevance to GRB afterglows.