We have calculated the H$\alpha$ and Ca {\sc ii} 8542 {\AA} line profiles
based on four different atmospheric models, including the effects of nonthermal
electron beams with various energy fluxes. These two lines have different
responses to thermal and nonthermal effects, and can be used to diagnose the
thermal and nonthermal heating processes. We apply our method to an X-class
flare that occurred on 2001 October 19. We are able to identify quantitatively
the heating effects during the flare eruption. We find that the nonthermal
effects at the outer edge of the flare ribbon are more notable than that at the
inner edge, while the temperature at the inner edge seems higher. On the other
hand, the results show that nonthermal effects increase rapidly in the rise
phase and decrease quickly in the decay phase, but the atmospheric temperature
can still keep relatively high for some time after getting to its maximum. For
the two kernels that we analyze, the maximum energy fluxes of the electron
beams are $\sim$ 10$^{10}$ and 10$^{11}$ ergs cm$^{-2}$ s$^{-1}$, respectively.
However, the atmospheric temperatures are not so high, i.e., lower than or
slightly higher than that of the weak flare model F1 at the two kernels. We
discuss the implications of the results for two-ribbon flare models.