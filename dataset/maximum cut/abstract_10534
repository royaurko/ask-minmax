Winds from pregalactic starbursts and 'miniquasars' may pollute the IGM with
metals and raise its temperature to a high adiabat, and so inhibit the
formation of early galaxies. We compute the thermal history of the IGM when it
experiences a period of rapid, homogeneous "preheating" at high redshifts.
Measurements of the temperature of the Lyamn-alpha forest at z~3 constrain the
redshift and energy of preheating, and rule out models that preheat too late or
to too high a temperature. We predict galaxy luminosity functions in preheated
universes. The results depend crucially on whether the baryonic smoothing scale
in the IGM is computed globally, or in a local, density-dependent fashion.
Using a globally averaged smoothing scale, we find that models with excessive
preheating produce too few L_* and fainter galaxies, and are therefore
inconsistent with observational data. A density-dependent smoothing scale
requires more energetic preheating to achieve the same degree of suppression in
the faint-end slope. All models, however, appear unable to explain the sharp
cut-off in the luminosity function at bright magnitudes. Supernova-driven
preheating scenarios tend to raise the mean metallicity of the universe well
above the minimum levels observed in the Lyman-alpha clouds. We find that
ionizing photon escape fractions must be significantly higher than 10% in order
to explain the low inferred HI fraction at z~6. While early preheating causes
strong suppression of dwarf galaxy formation we show that it is not able to
reproduce the observed abundance of satellite galaxies in the Local Group in
detail.