We consider a class of Hamiltonian PDEs that can be split into a linear
unbounded operator and a regular non linear part, and we analyze their
numerical discretizations by symplectic methods when the initial value is small
in Sobolev norms. The goal of this work is twofold: First we show how standard
approximation methods cannot in general avoid resonances issues, and we give
numerical examples of pathological behavior for the midpoint rule and
implicit-explicit integrators. Such phenomena can be avoided by suitable
truncations of the linear unbounded operator combined with classical splitting
methods. We then give a sharp bound for the cut-off depending on the time step.
Using a new normal form result, we show the long time preservation of the
actions for such schemes for all values of the time step, provided the initial
continuous system does not exhibit resonant frequencies.