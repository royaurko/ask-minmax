Using estimates of dark halo masses from satellite kinematics, weak
gravitational lensing, and halo abundance matching, combined with the
Tully-Fisher and Faber-Jackson relations, we derive the mean relation between
the optical, V_opt, and virial, V_200, circular velocities of early- and
late-type galaxies at redshift z~0. For late-type galaxies V_opt ~ V_200 over
the velocity range V_opt=90-260 km/s, and is consistent with V_opt = V_maxh
(the maximum circular velocity of NFW dark matter haloes in the concordance
LCDM cosmology). However, for early-type galaxies V_opt \ne V_200, with the
exception of early-type galaxies with V_opt simeq 350 km/s. This is
inconsistent with early-type galaxies being, in general, globally isothermal.
For low mass (V_opt < 250 km/s) early-types V_opt > V_maxh, indicating that
baryons have modified the potential well, while high mass (V_opt > 400 km/s)
early-types have V_opt < V_maxh. Folding in measurements of the black hole mass
- velocity dispersion relation, our results imply that the supermassive black
hole - halo mass relation has a logarithmic slope which varies from ~1.4 at
halo masses of ~10^{12} Msun/h to ~0.65 at halo masses of 10^{13.5} Msun/h. The
values of V_opt/V_200 we infer for the Milky Way and M31 are lower than the
values currently favored by direct observations and dynamical models. This
offset is due to the fact that the Milky Way and M31 have higher V_opt and
lower V_200 compared to typical late-type galaxies of the same stellar masses.
We show that current high resolution cosmological hydrodynamical simulations
are unable to form galaxies which simultaneously reproduce both the V_opt/V_200
ratio and the V_opt-M_star (Tully-Fisher/Faber-Jackson) relation.