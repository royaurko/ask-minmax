A team of players plays the following game. After a strategy session, each
player is randomly fitted with a blue or red hat. Then, without further
communication, everybody can try to guess simultaneously his or her own hat
color by looking at the hat colors of other players. Visibility is defined by a
directed graph; that is, vertices correspond to players, and a player can see
each player to whom she or he is connected by an arc. The team wins if at least
one player guesses his hat color correctly, and no one guesses his hat color
wrong; otherwise the team loses. The team aims to maximize the probability of a
win, and this maximum is called the hat number of the graph.
  Previous works focused on the problem on complete graphs and on undirected
graphs. Some cases were solved, e.g., complete graphs of certain orders, trees,
cycles, bipartite graphs. These led Uriel Feige to conjecture that the hat
number of any graph is equal to the hat number of its maximum clique.
  We show that the conjecture does not hold for directed graphs.Moreover, for
every value of the maximum clique size, we provide a tight characterization of
the range of possible values of the hat number. We construct families of
directed graphs with a fixed clique number the hat number of which is
asymptotically optimal. We also determine the hat number of tournaments to be
one half.