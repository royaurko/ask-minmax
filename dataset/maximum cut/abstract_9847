In this note, we give a new upper diameter estimate for complete Riemannian
manifolds in the case that the Bakry-'{E}mery Ricci curvature has a positive
lower bound and the norm of the potential function has an upper bound. Our
diameter estimate improves previous results obtained by Wei-Wylie (J.
Differential Geom. 83, 377-405, 2009) and Limoncu (Math. Z. 271, 715-722,
2012). As an application, we give an upper diameter bound for compact Ricci
solitons in terms of the maximum value of the scalar curvature. Using such a
diameter bound, we provide a sufficient condition for four-dimensional compact
Ricci solitons to satisfy the Hitchin-Thorpe inequality.