We analyze the effects of demagnetizing fields in the magnetization
hysteresis loops of type-II superconductors, by a model that allows the
calculation of current and field profiles in finite cylindrically symmetric
superconductors in the critical state. We show how the maximum in the
magnetization curve gradually shifts from negative applied field values to the
central position with decreasing sample thickness. From the analysis of the
calculated field profiles, we demonstrate that one can obtain the intrinsic
field-dependent critical-current density of the superconductor with great
accuracy by measuring the magnetic response of superconductors with large
aspect ratio with the applied field parallel to the shortest dimension.