The notion of trees plays an important role in Butcher's B-series. More
recently, a refined understanding of algebraic and combinatorial structures
underlying the Magnus expansion has emerged thanks to the use of rooted trees.
We follow these ideas by further developing the observation that the logarithm
of the solution of a lihear first-order finite-difference equation can be
written in terms of the Magnus expansion taking place in a pre-Lie algebra. By
using basic combinatorics on planar reduced trees we derive a closed formula
for the Magnus expansion in the context of free tridendriform algebra. The
tridendriform algebra structure on word quasi-symmetric functions permits us to
derive a discrete analogue of the Mielnik-Plebanski-Strichartz formula for this
logarithm.