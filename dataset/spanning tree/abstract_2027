Consider the Erd\"os-Renyi random graph on n vertices where each edge is
present independently with probability c/n, with c>0 fixed. For large n, a
typical random graph locally behaves like a Galton-Watson tree with Poisson
offspring distribution with mean c. Here, we study large deviations from this
typical behavior within the framework of the local weak convergence of finite
graph sequences. The associated rate function is expressed in terms of an
entropy functional on unimodular measures and takes finite values only at
measures supported on trees. We also establish large deviations for other
commonly studied random graph ensembles such as the uniform random graph with
given number of edges growing linearly with the number of vertices, or the
uniform random graph with given degree sequence. To prove our results, we
introduce a new configuration model which allows one to sample uniform random
graphs with a given neighborhood distribution, provided the latter is supported
on trees. We also introduce a new class of unimodular random trees, which
generalizes the usual Galton Watson tree with given degree distribution to the
case of neighborhoods of arbitrary finite depth. These generalized Galton
Watson trees turn out to be useful in the analysis of unimodular random trees
and may be considered to be of interest in their own right.