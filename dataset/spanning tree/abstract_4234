Deciding whether a graph can be embedded in a grid using only unit-length
edges is NP-complete, even when restricted to binary trees. However, it is not
difficult to devise a number of graph classes for which the problem is
polynomial, even trivial. A natural step, outstanding thus far, was to provide
a broad classification of graphs that make for polynomial or NP-complete
instances. We provide such a classification based on the set of allowed vertex
degrees in the input graphs, yielding a full dichotomy on the complexity of the
problem. As byproducts, the previous NP-completeness result for binary trees
was strengthened to strictly binary trees, and the three-dimensional version of
the problem was for the first time proven to be NP-complete. Our results were
made possible by introducing the concepts of consistent orientations and robust
gadgets, and by showing how the former allows NP-completeness proofs by local
replacement even in the absence of the latter.