The tree metric theorem provides a combinatorial four point condition that
characterizes dissimilarity maps derived from pairwise compatible split
systems. A similar (but weaker) four point condition characterizes
dissimilarity maps derived from circular split systems (Kalmanson metrics). The
tree metric theorem was first discovered in the context of phylogenetics and
forms the basis of many tree reconstruction algorithms, whereas Kalmanson
metrics were first considered by computer scientists, and are notable in that
they are a non-trivial class of metrics for which the traveling salesman
problem is tractable. We present a unifying framework for these theorems based
on combinatorial structures that are used for graph planarity testing. These
are (projective) PC-trees, and their affine analogs, PQ-trees. In the
projective case, we generalize a number of concepts from clustering theory,
including hierarchies, pyramids, ultrametrics and Robinsonian matrices, and the
theorems that relate them. As with tree metrics and ultrametrics, the link
between PC-trees and PQ-trees is established via the Gromov product.