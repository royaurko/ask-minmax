We prove that critical multitype Galton-Watson trees converge after rescaling
to the Brownian continuum random tree, under the hypothesis that the offspring
distribution has finite covariance matrices. Our study relies on an ancestral
decomposition for marked multitype trees. We then couple the genealogical
structure with a spatial motion, whose step distribution may depend on the
structure of the tree in a local way, and show that the resulting discrete
spatial trees converge once suitably rescaled to the Brownian snake, under some
suitable moment assumptions.