We study the construction of quasimorphisms on groups acting on trees
introduced by Monod and Shalom, that we call median quasimorphisms, and in
particular we fully characterise actions on trees that give rise to non-trivial
median quasimorphisms. Roughly speaking, either the action is highly transitive
on geodesics, it fixes a point in the boundary, or there exists an infinite
family of non-trivial median quasimorphisms. In particular, in the last case
the second bounded cohomology of the group is infinite dimensional as a vector
space. As an application, we show that a cocompact lattice in a product of
trees only has trivial quasimorphisms if and only if both closures of the
projections on the two factors are locally $\infty$-transitive.