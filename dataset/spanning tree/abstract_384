In this paper we show how to use simple partitioning lemmas in order to embed
spanning graphs in a typical member of $G(n,p)$. Let the \emph{maximum density}
of a graph $H$ be the maximum average degree of all the subgraphs of $H$.
First, we show that for $p=\omega(\Delta^{12} n^{-1/2d}\log^3n)$, a graph
$G\sim G(n,p)$ w.h.p.\ contains copies of all spanning graphs $H$ with maximum
degree at most $\Delta$ and maximum density at most $d$. For $d<\Delta/2$, this
improves a result of Dellamonica, Kohayakawa, R\"odl and Ruci\'ncki. Next, we
show that if we additionally restrict the spanning graphs to have girth at
least 7 then the random graph contains w.h.p.\ all such graphs for
$p=\omega(\Delta^{12} n^{-1/d}\log^3n)$. In particular, if
$p=\omega(\Delta^{12} n^{-1/2}\log^3 n)$, the random graph therefore contains
w.h.p.\ every spanning tree with maximum degree bounded by $\Delta$. This
improves a result of Johannsen, Krivelevich and Samotij.
  Finally, in the same spirit, we show that for any spanning graph $H$ with
constant maximum degree, and for suitable $p$, if we randomly color the edges
of a graph $G\sim G(n,p)$ with $(1 + o(1))|E(H)|$ colors, then w.h.p.\ there
exists a \emph{rainbow} copy of $H$ in $G$ (that is, a copy of $H$ with all
edges colored with distinct colors).