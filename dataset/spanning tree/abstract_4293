We give a simple new proof of a theorem of Duquesne, stating that the
properly rescaled contour function of a critical aperiodic Galton-Watson tree,
whose offspring distribution is in the domain of attraction of a stable law of
index $\theta \in (1,2]$, conditioned on having total progeny $n$, converges in
the functional sense to the normalized excursion of the continuous-time height
function of a strictly stable spectrally positive L\'evy process of index
$\theta$. To this end, we generalize an idea of Le Gall which consists in using
an absolute continuity relation between the conditional probability of having
total progeny exactly $n$ and the conditional probability of having total
progeny at least $n$. This new method is robust and can be adapted to establish
invariance theorems for Galton-Watson trees having $n$ vertices whose degrees
are prescribed to belong to a fixed subset of the positive integers.