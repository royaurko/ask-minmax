We show that every regular graph with good local expansion has a spanning
Lipschitz subgraph with large girth and minimum degree. In particular, this
gives a finite analogue of the dynamical solution to the von Neumann problem by
Gaboriau and Lyons. We give a new proof and strengthen the Gaboriau-Lyons
result, that allows us to answer two questions of Monod about geometric random
subgroups. Our finite theorems are kind of converse to the theorem of Bourgain
and Gamburd showing that large girth implies expansion for Cayley graphs of
SL_2(F_p). We apply these to the regular case of Thomassen's conjecture stating
that every finite graph with large average degree has a subgraph with large
girth and average degree. Our main tool is an infinite version of the Lovasz
Local Lemma developed in this paper.