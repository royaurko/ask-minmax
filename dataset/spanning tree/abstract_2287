We define the compatibility JSJ tree of a group G over a class of subgroups.
It exists whenever G is finitely presented and leads to a canonical tree (not a
deformation space) which is invariant under automorphisms. Under acylindricity
hypotheses, we prove that the (usual) JSJ deformation space and the
compatibility JSJ tree exist, and we describe their flexible subgroups. We
apply these results to finitely generated CSA groups, \Gamma-limit groups
(allowing torsion), and relatively hyperbolic groups.