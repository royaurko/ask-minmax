For two graphs $T$ and $H$ with no isolated vertices and for an integer $n$,
let $ex(n,T,H)$ denote the maximum possible number of copies of $T$ in an
$H$-free graph on $n$ vertices. The study of this function when $T=K_2$ is a
single edge is the main subject of extremal graph theory. In the present paper
we investigate the general function, focusing on the cases of triangles,
complete graphs, complete bipartite graphs and trees. These cases reveal
several interesting phenomena. Three representative results are:
  (i) $ex(n,K_3,C_5) \leq (1+o(1)) \frac{\sqrt 3}{2} n^{3/2},$
  (ii) For any fixed $m$, $s \geq 2m-2$ and $t \geq (s-1)!+1 $,
$ex(n,K_m,K_{s,t})=\Theta(n^{m-\binom{m}{2}/s})$ and
  (iii) For any two trees $H$ and $T$, $ex(n,T,H) =\Theta (n^m)$ where
$m=m(T,H)$ is an integer depending on $H$ and $T$ (its precise definition is
given in Section 1).
  The first result improves (slightly) an estimate of Bollob\'as and Gy\H{o}ri.
  The proofs combine combinatorial and probabilistic arguments with simple
spectral techniques.