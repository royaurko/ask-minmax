Let $X$ be a separable Banach space, $Y$ a Banach space and $f: X \to Y$ an
arbitrary mapping. Then the following implication holds at each point $x \in X$
except a $\sigma$-directionally porous set:
  If the one-sided Hadamard directional derivative $f'_{H+}(x,u)$ exists in all
directions $u$ from a set $S_x \subset X$ whose linear span is dense in $X$,
then $f$ is Hadamard differentiable at $x$.
  This theorem improves and generalizes a recent result of A.D. Ioffe, in which
the linear span of $S_x$ equals $X$ and $Y = \R$.
  An analogous theorem, in which $f$ is pointwise Lipschitz, and which deals
with the usual one-sided derivatives and G\^ ateaux differentiability is also
proved. It generalizes a result of D. Preiss and the contributor, in which $f$ is
supposed to be Lipschitz.