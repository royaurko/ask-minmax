The integration of scheduling and deadlock-avoidance of automated manufacturing systems with complex product structures and complex resource behaviors is addressed in this paper. For this purpose, we introduce an extension of job-shops and call the new systems job-shops Multi-Resource with Blocking or job-shops MRB for short. A job-shop MRB is composed of a set of resources and each resource can have more than one unit. A set of jobs is processed and each job requires a sequence of operations. Each operation may need more than one resource and more than one unit of a resource. Most importantly, a job-shop MRB is further characterized by a so-called “hold while wait” property for resources' release. The scheduling problem consists in sequencing the operations on the resources in order to avoid deadlocks and to minimize the makespan. We first model the system using Petri nets, formulate deadlock constraints in terms of PN model, and establish feasibility conditions of a given schedule. Finally, a heuristic is proposed to obtain deadlock-free schedules. The heuristic schedules the jobs one after another. For each job, the scheduling problem consists in minimizing its completion time without modifying the schedules of the scheduled jobs. A dynamic programming approach is proposed to solve this one-job scheduling problem