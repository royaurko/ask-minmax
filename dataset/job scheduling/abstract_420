United States Patent Mullery et al. [ 51 Mar. 7, 1972 [54] PROGRAM SCHEDULER FOR PROCESSING SYSTEMS [72] Inventors: Alvin P. Muller-y, Chappaqua; Frank W. Zurcher, Jr., Yorktown Heights, both of NY. [731 Assignees: International Business Machines Corporation, Armonk, N.Y.; Burroughs Corporation, Detroit, Mich. [221 Filed: Dec. 10, I969 [21] Appl.No.: 883,983 3,333,252 7/1967 Shimabukuro... 340/1725 3,359,544 12/1967 Macon et al..... ..340/l72.5 3,363,234 1/1968 Erickson et al. ..340/l72.5 3,399,384 8/1968 Crockett et a1. .340/172.S 3,421,150 1/1969 Quosig et al. ..340/l72.5 3,449,722 6/1969 Tucker ...............................340/I72.5 3,49l,339 l/l970 Schramcl ..340/l72.5 3,496,551 2/1970 Driscoll et al. ..340/l72.5 3,530,438 9/1970 Mellen ct al ..340/l72.5 Primary ExaminerGareth D. Shaw Assistant Examiner-Sydney R. Chirlin INTERRUPT Attorney-Thomas and Thomas, Edwin M. Thomas and Ralph L. Thomas [57] ABSTRACT A program scheduler is provided for use with a multiprocessor system or its equivalent, such as a multiprogrammed processor unit, and the program scheduler receives tasks to be executed, schedules them for assignment, allots a task to each procesor and interrupts the processors to assign new tasks. The program scheduler includes a plurality of buckets or tables where task words are stored, and associated with each task word is a T, field which specifies the estimated processor time required to complete the task and a T, field which indicates the time remaining before the task must be completed. The ratio TJT, provides an indication of the need of each task word for processor service since the need for such service becomes more urgent as the ratio approaches 1. A scheduling algorithm periodically recalculates the service ratio and shifts tasks, if need be, from one table to another whereby tasks with a similar service ratio are stored in a common table. Task words within a given table are divided into classes according to the length of time a task has not received service. An allocation algorithm allots tasks to processors from the older classes first and proceeds in sequence through the various classes to the latest classes. Both the scheduling algorithm and the allocation algorithm service all tables in the program scheduler, but the tables with higher service ratios are serviced more often by each algorithm than tables with lower service ratios. When many task words are awaiting processor service, a given task word receives processor service at a rather low frequency when it has a small service ratio, but it receives processor service at a relatively high frequency as its service ratio approaches l. 40 Claims, 65 Drawing Figures Patented MarCh 7, 19 72 3,648,253 61 Sheets-Sheet 1 INTERRUPT NEW TASK INTERRUPT NEW TASK ADDRESS Te Td FIG, 2 TASK worm 50 5| 52 t g g INVENTORS i k i 5 I ALVIN P. MULLERY H FRANK w. ZURCHER,JR. FIG. 3 BY 720mm & 720mm ATTORNEYS Patented March 7, 1972 61 Sheets-Sheet E H :1 E 5 2? N 92o mic H mm 35 2 21 Ill 2; A H 5 5 E O: H 1 [E 21 E Patented March 7, 1972 G1 Sheets-Sheet :T M X 5% w A 1% so 2% a; o 1 1 k 1 5:2 is 2m 4 E: Til r E a w 1 Q2 :5 w H 4 w XXV h an alll mw IIL F :0 w E2052: ZOE VAVHUAVN o 3 8; a 5 E222: K F N; xv unx x o 1 k 53 ME; k an E 25 15 5 $5 2-; 5 5 J E N am 2 am am Patented March 7, 1972 (31 Sheets-Sheet I} w 5 5.81! w i: 25322 H Q? E W 1%, w I: 353:; a: $1 F 2; 0 all ul v2 OT; A 21 W L (K iulunvfl o I O o 7 1 W 5.1 :1; a3 1% Q i5. 2 $22 A x a QB 02 E 25 N a was; 3 3 3:2; an; 1 (JJEKK 0; Mi x x n m 0 gx mom Patented March 7, 1972 G1 Sheets-Sheet 1:; MAX XJRXV X XAKXX XXX XiA fa 2-; ME; 5; s; 3-; z; 2-; 0 E 1 J a? a? z? 7 it m an L2 am $083 23 i5 93 k 23 i V X U XV 5m 3w i 5; E YXXX XX 2 XXX! s 5 E52 52% K Q X m X E @E 1 L X X X X X X Patented March 7, 1972 61 Sheets-Sheet 13 u m w; i J E: :2 22 Wm mm $2 2? 1 1% o r! w o 1 Z k E1 a? 5 O $2 2 5 4 k Q: J 22 1 H 0 PM: E. l M c o o o E $2 E m2 22 v 32 $2 52 0 a Q 0 $1 v2 5 2 now $2 51F Em 32 F T: 1 vs a? o .N 0 21 Im 5; s2 29 r 1210 aw? 22 flmb 2: .I Patented March 7, 1972 61 Sheets-Sheet 1 4 lllllllllllllllllllllulllllllllxonjoa I'IIIIIII'II Patented March 7, 1972 61 Sheets-Sheet 1 8