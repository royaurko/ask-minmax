This paper presents a formalisation of pGCL in Isabelle/HOL. Using a shallow
embedding, we demonstrate close integration with existing automation support.
We demonstrate the facility with which the model can be extended to incorporate
existing results, including those of the L4.verified project. We motivate the
applicability of the formalism to the mechanical verification of probabilistic
security properties, including the effectiveness of side-channel
countermeasures in real systems.