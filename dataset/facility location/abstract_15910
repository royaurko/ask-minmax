Fan, Gijbels and King [Ann. Statist. 25 (1997) 1661--1690] considered the
estimation of the risk function $\psi (x)$ in the proportional hazards model.
Their proposed estimator is based on integrating the estimated derivative
function obtained through a local version of the partial likelihood. They
proved the large sample properties of the derivative function, but the large
sample properties of the estimator for the risk function itself were not
established. In this paper, we consider direct estimation of the relative risk
function $\psi (x_2)-\psi (x_1)$ for any location normalization point $x_1$.
The main novelty in our approach is that we select observations in shrinking
neighborhoods of both $x_1$ and $x_2$ when constructing a local version of the
partial likelihood, whereas Fan, Gijbels and King [Ann. Statist. 25 (1997)
1661--1690] only concentrated on a single neighborhood, resulting in the
cancellation of the risk function in the local likelihood function. The
asymptotic properties of our estimator are rigorously established and the
variance of the estimator is easily estimated. The idea behind our approach is
extended to estimate the differences between groups. A simulation study is
carried out.