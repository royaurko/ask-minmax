We study ultracold Bose gases in periodic potentials as described by the
Bose-Hubbard model. In 1D and at finite temperature, we simulate ultracold Bose
gases in imaginary time with the gauge $P$ representation. We study various
quantities including the Luttinger parameter $K$, which is important for
locating the boundaries of the Mott insulator lobes, and find a simple relation
for the kinetic energy part of the Bose-Hubbard Hamiltonian.
  We show that for J=0, the stepwise pattern of the average number of particles
per lattice site versus the chemical potential vanishes at temperatures above
$T \approx 0.1 U$. Also, at chemical potential $\mu=0.5 U$ and temperature
$T=0.5 U$ by increasing $J$, the relative value of the number fluctuation
decreases and approaches that of a coherent state.