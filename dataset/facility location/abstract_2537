This paper studies a three party energy management problem in a user
interactive smart community that consists of a large number of residential
units (RUs) with distributed energy resources (DERs), a shared facility
controller (SFC) and the main grid. A Stackelberg game is formulated to benefit
both the SFC and RUs, in terms of incurred cost and achieved utility
respectively, from their energy trading with each other and the grid. The
properties of the game are studied and it is shown that there exists a unique
Stackelberg equilibrium (SE). A novel algorithm is proposed that can be
implemented in a distributed fashion by both RUs and the SFC to reach the SE.
The convergence of the algorithm is also proven, and shown to always reach the
SE. Numerical examples are used to assess the properties and effectiveness of
the proposed scheme.