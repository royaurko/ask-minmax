Many NP-complete constraint satisfaction problems appear to undergo a "phase
transition'' from solubility to insolubility when the constraint density passes
through a critical threshold. In all such cases it is easy to derive upper
bounds on the location of the threshold by showing that above a certain density
the first moment (expectation) of the number of solutions tends to zero. We
show that in the case of certain symmetric constraints, considering the second
moment of the number of solutions yields nearly matching lower bounds for the
location of the threshold. Specifically, we prove that the threshold for both
random hypergraph 2-colorability (Property B) and random Not-All-Equal k-SAT is
2^{k-1} ln 2 -O(1). As a corollary, we establish that the threshold for random
k-SAT is of order Theta(2^k), resolving a long-standing open problem.