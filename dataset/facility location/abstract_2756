The static free energy of glassy systems can be expressed in terms of the
Parisi order parameter function. When this function has a discontinuity, the
location of the step is determined by maximizing the free energy. In dynamics a
transition is found at larger temperature, while the location of the step
satisfies a marginality criterion. It is shown here that in a replica
calculation this criterion minimizes the free energy. This leads to first order
phase transitions at the dynamic transition point. Though the order parameter
function is the same as in the long-time limit of a dynamical analysis,
thermodynamics is different.