We investigate the tendency for financial instruments to form clusters when
there are multiple factors influencing the correlation structure. Specifically,
we consider a stock portfolio which contains companies from different
industrial sectors, located in several different countries. Both sector
membership and geography combine to create a complex clustering structure where
companies seem to first be divided based on sector, with geographical
subclusters emerging within each industrial sector. We argue that standard
techniques for detecting overlapping clusters and communities are not able to
capture this type of structure, and show how robust regression techniques can
instead be used to remove the influence of both sector and geography from the
correlation matrix separately. Our analysis reveals that prior to the 2008
financial crisis, companies did not tend to form clusters based on geography.
This changed immediately following the crisis, with geography becoming a more
important determinant of clustering.