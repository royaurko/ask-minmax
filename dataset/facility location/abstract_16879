We analyze the physical processes of gap formation in an inviscid
protoplanetary disk with an embedded protoplanet using two-dimensional local
shearing-sheet model. Spiral density wave launched by the planet shocks and the
angular momentum carried by the wave is transferred to the background flow. The
exchange of the angular momentum can affect the mass flux in the vicinity of
the planet to form an underdense region, or gap, around the planetary orbit. We
first perform weakly non-linear analyses to show that the specific vorticity
formed by shock dissipation of density wave can be a source of mass flux in the
vicinity of the planet, and that the gap can be opened even for low-mass
planets unless the migration of the planet is substantial. We then perform high
resolution numerical simulations to check analytic consideration. By comparing
the gap opening timescale and type I migration timescale, we propose a
criterion for the formation of underdense region around the planetary orbit
that is qualitatively different from previous studies. The minimum mass
required for the planet to form a dip is twice as small as previous studies if
we incorporate the standard values of type I migration timescale, but it can be
much smaller if there is a location in the disk where type I migration is
halted.