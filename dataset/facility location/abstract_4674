In this paper we investigate x-ray and $\gamma$-ray propagation in crystals
having a constant strain gradient and flat or cylindrical surfaces. When a
displacement field is present, we solve the Takagi-Taupin equations either by
the Riemann-Green method or by a numerical method. We apply the results to
study the operation of a double-crystal Laue-Laue diffractometer having a flat
collimating crystal followed by a bent analyzer crystal. In particular, we
examine the effect of the analyzer strain on the location of the diffraction
peaks in the dispersive and non-dispersive setup, thus confirming our
previously reported peak-location as being set only by the diffracting plane
spacing on the analyzer entrance surface.