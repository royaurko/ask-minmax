Observed metallicities of globular clusters reflect physical conditions in
the interstellar medium of their high-redshift host galaxies. Globular cluster
systems in most large galaxies display bimodal color and metallicity
distributions, which are often interpreted as indicating two distinct modes of
cluster formation. The metal-rich and metal-poor clusters have systematically
different locations and kinematics in their host galaxies. However, the red and
blue clusters have similar internal properties, such as the masses, sizes, and
ages. It is therefore interesting to explore whether both metal-rich and
metal-poor clusters could form by a common mechanism and still be consistent
with the bimodal distribution. We present such a model, which prescribes the
formation of globular clusters semi-analytically using galaxy assembly history
from cosmological simulations coupled with observed scaling relations for the
amount and metallicity of cold gas available for star formation. We assume that
massive star clusters form only during mergers of massive gas-rich galaxies and
tune the model parameters to reproduce the observed distribution in the Galaxy.
A wide, but not entire, range of model realizations produces metallicity
distributions consistent with the data. We find that early mergers of smaller
hosts create exclusively blue clusters, whereas subsequent mergers of more
massive galaxies create both red and blue clusters. Thus bimodality arises
naturally as the result of a small number of late massive merger events. This
conclusion is not significantly affected by the large uncertainties in our
knowledge of the stellar mass and cold gas mass in high-redshift galaxies. The
fraction of galactic stellar mass locked in globular clusters declines from
over 10% at z>3 to 0.1% at present.