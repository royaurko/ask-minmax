In time-distance helioseismology, the time signals (Doppler shifts) at two
points on the solar surface, separated by a fixed angular distance are
cross-correlated, and this leads to a wave packet signal. Accurately measuring
the travel times of these wave packets is crucial for inferring the sub-surface
properties in the Sun. The observed signal is quite noisy, and to improve the
signal-to-noise ratio and make the cross-correlation more robust, the temporal
oscillation signal is phase-speed filtered at the two points in order to select
waves that travel a fixed horizontal distance. Hence a new formula to estimate
the travel times is derived, in the presence of a phase speed filter, and it
includes both the radial and horizontal component of the oscillation
displacement signal. It generalizes the previously used Gabor wavelet that was
derived without a phase speed filter and included only the radial component of
the displacement. This is important since it will be consistent with the
observed cross-correlation that is computed using a phase speed filter, and
also it accounts for both the components of the displacement. The new formula
depends on the location of the two points on the solar surface that are being
cross correlated and accounts for the travel time shifts at different locations
on the solar surface.