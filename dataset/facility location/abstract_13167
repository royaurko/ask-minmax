Existing cellular networks suffer from inflexible and expensive equipment,
and complex control-plane protocols. To address these challenges, we present
SoftCell, a scalable architecture for supporting fine-grained policies for
mobile devices in cellular core networks. The SoftCell controller realizes
high-level service polices by directing traffic over paths that traverse a
sequence of middleboxes, optimized to the network conditions and user
locations. To ensure scalability, the core switches forward traffic on
hierarchical addresses (grouped by base station) and policy tags (identifying
paths through middleboxes). This minimizes data-plane state in the core
switches, and pushes all fine-grained state to software switches at the base
stations. These access switches apply fine-grained rules, specified by the
controller, to map all traffic to the appropriate addresses and tags. SoftCell
guarantees that packets in the same connection traverse the same sequence of
middleboxes in both directions, even in the presence of mobility. Our
characterization of real LTE workloads, micro-benchmarks on our prototype
controller, and large-scale simulations demonstrate that SoftCell improves the
flexibility of cellular core networks, while enabling the use of inexpensive
commodity switches and middleboxes.