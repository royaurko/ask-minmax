We consider the synchrotron emission from relativistic shocks assuming that
the radiating electrons cool rapidly (either through synchrotron or any other
radiation mechanism). It is shown that the theory of synchrotron emission in
the fast cooling regime can account for a wide range of spectral shapes. In
particular, the magnetic field, which decays behind the shock front, brings
enough flexibility to the theory to explain the majority of gamma-ray burst
spectra even in the parameter-free fast cooling regime. Also, we discuss
whether location of the peak in observed spectral energy distributions of
gamma-ray bursts and active galactic nuclei can be made consistent with
predictions of diffusive shock acceleration theory, and find that the answer is
negative. This result is a strong indication that a particle injection
mechanism, other than the standard shock acceleration, works in relativistic
shocks.