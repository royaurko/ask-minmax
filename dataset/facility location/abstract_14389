This paper considers the problem of testing the equality of two unspecified
distributions. The classical omnibus tests such as the Kolmogorov-Smirnov and
Cram\`er-von Mises are known to suffer from low power against essentially all
but location-scale alternatives. We propose a new two-sample test that modifies
the Neyman's smooth test and extend it to the multivariate case based on the
idea of projection pursue. The asymptotic null property of the test and its
power against local alternatives are studied. The multiplier bootstrap method
is employed to compute the critical value of the multivariate test. We
establish validity of the bootstrap approximation in the case where the
dimension is allowed to grow with the sample size. Numerical studies show that
the new testing procedures perform well even for small sample sizes and are
powerful in detecting local features or high-frequency components.