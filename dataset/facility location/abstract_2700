We introduce the third generation of the PDE framework Peano. It incorporates
a mesh storage and traversal scheme for dynamically adaptive multiscale
Cartesian grids. Starting from a formalism of the software design at hands of
two types of interacting automata, one automaton for the multiscale grid
traversal and the remaining automata for the application-specific code
fragments, we discuss two variants of data storage offered by the framework:
heaps and streams. Their usage is sketched at hands of a multigrid algorithm
and a shallow water code and we present some traversal reordering techniques.
They lead into concurrent and distributed mesh traversals. All reordering
results from tree transformations which are hidden from the
application-specific code fragments, but make the grid traversals anticipate
the interplay of mesh regularity, data decomposition, parallel facilities, and
data and task dependencies. The latter are prescribed by the applications.