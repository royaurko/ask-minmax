Password: An algorithm that can tackle time dependent vehicle routing problems with hard or soft time windows without any alteration in its structure is presented. Analytical and experimental results indicate that average computational time increases proportionally to the number of customers squared. New replicable test problems that capture the typical speed variations of congested urban settings are proposed. Solution quality, time window perturbations, and computational time results are discussed as well as a method to study the impact of perturbations by problem type. The algorithm efficiency and simplicity is well suited for urban areas where fast running times may be required. ► New replicable problems for time-dependent routing problems with hard time-windows. ► New algorithm for time dependent routing problems with hard or soft time-windows. ► Algorithm computational time is proportional to the number of customers squared. ► Efficient, simple and fast solution algorithm well suited for dynamic problems. ► Solution quality, computational time, and problem perturbation results are analyzed. Keywords Vehicle routing ; Benchmark problems ; Time dependent travel time ; Variable speed ; Congestion 1. Introduction Congestion is a common phenomenon in most urban areas of the world. Congestion creates a substantial variation in travel speeds during peak morning and evening hours. This is problematic for all vehicle routing models that rely on a constant value to represent vehicle speeds. Urban route designs that ignore these significant speed variations result in inefficient and suboptimal solutions. Poorly designed routes that lead freight vehicles into congested arteries and streets not only increase supply chain and logistics costs but also worsen externalities associated with freight traffic in urban areas such as greenhouse gases, noise, and air pollution. Travel time between customers and depot is found to be a crucial factor that amplifies the negative impacts of congestion; congestion also affects carriers’ cost structure and the relative weight of wages and overtime expenses ( Figliozzi, 2010a ). Routing models with time-varying travel times are gaining greater attention in vehicle routing literature and industry. However, research on the time dependent vehicle routing problem (TDVRP) is still comparatively meager in relation to the body of literature accumulated for the classical vehicle routing problem (VRP) and vehicle routing problem with time windows (VRPTW). In addition, published algorithms and related results can neither be readily benchmarked nor do they cover all practical and relevant objective functions or time window constraint types. Without readily available benchmark problems the solution quality of TDVRP algorithms cannot be properly analyzed. Furthermore, both solution quality and computation times are key attributes of a desirable TDVRP algorithm. Fast algorithms are particularly critical in urban TDVRP because travel time updates and new solutions may be necessary due to non-recurrent events such as accidents. The goals of this research are to: (a) formulate a time dependent vehicle routing problem with a general cost function and time window constraints, (b) present an intuitive and efficient solution methodology for problems with time dependent speeds, (c) introduce readily replicable time dependent instances and analyze the computational results and robustness of the solutions, and (d) analyze the computational complexity of the solution approach. This paper is organized as follows: Section 2 presents a literature review for the TDVRP; Section 3 introduces notation and formulates the problems. Section 4 presents the Iterative Route Construction and Improvement algorithm (IRCI) to solve time dependent routing problems and minimize fleet size; Section 5 presents algorithms to reduce soft time window penalties and route durations; Section 6 presents benchmark problems; Section 7 discusses computational results; Section 8 analyses the worst case and average computational complexity of the algorithms presented in Sections 4  and  5 ; and Section 9 concludes the paper. 2. Literature review Unlike widely studied versions of the VRP, e.g. capacitated VRP or time windows VRP with constant travel speed or no travel time variability, time dependent problems have received considerably little attention. The time dependent VRP was first formulated by Malandraki, 1989  and  Malandraki and Daskin, 1992 using a mixed integer linear programming formulation. A greedy nearest-neighbor heuristic based on travel time between customers was proposed, as well as a branch and cut algorithm to solve TDVRP without time windows. Hill and Benton (1992) considered a node based time dependent vehicle routing problem (without time windows). Computational results for one vehicle and five customers were reported. Ahn and Shin (1991) discussed modifications to the savings, insertion, and local improvement algorithms to better deal with TDVRP. In randomly generated instances, they reported computation time reductions as a percentage of “unmodified” savings, insertion, and local improvement algorithms. Malandraki and Dial (1996) proposed a dynamic programming algorithm for the time dependent traveling salesman problem, i.e. for a fleet of just one vehicle. A nearest-neighbor type heuristic was used to solve randomly generated problems. An important property for time dependent problems is the First In–First Out (FIFO) property ( Ahn and Shin, 1991  and  Ichoua et al., 2003 ). A model with a FIFO property guarantees that if a vehicle leaves customer i to go to customer j at any time t , any identical vehicle with the same destination leaving customer i at a time t  +  ε , where ε  > 0, will always arrive later. This is an intuitive and desirable property though it is not present in all models. Earlier formulations and solutions methods, Malandraki, 1989 , Malandraki and Daskin, 1992 , Hill and Benton, 1992  and  Malandraki and Dial, 1996 , do not guarantee the FIFO property as reported by Ichoua et al. (2003) . Later research efforts have modeled travel time variability using “constant speed” time periods which guarantees the FIFO property, as shown by Ichoua et al. (2003) . Ichoua et al. (2003) proposed a tabu search solution method, based on the work of Taillard et al. (1997) , in order to solve time dependent vehicle routing problems with soft time windows. Ichoua et al. showed that ignoring time dependency, i.e. using VRP models with constant speed, can lead to poor solutions. Ichoua et al. tested their method using the Solomon problem set, soft time windows, three time periods, and three types of time dependent arcs. The objective was to minimize the sum of total travel time plus penalties associated with time window violations. Summarizing, Ichoua et al. solved a different and simpler problem than the one analyzed in this paper. This research deals with a problem with hard time windows whereas Ichoua et al. deals with a problem with soft time windows only . Finally, Ichoua et al. assume that the number of routes is known a priori and that violations to time window constraints are acceptable. Furthermore, the objective function in Ichoua et al. is to minimize a weighted sum of total distance travelled and total lateness over all customers whereas this research follows the more traditional hierarchical approach used in the vast majority of VRP problems: first minimize number of routes and second minimize time and/or distance. Other approaches include the work of Fleischmann et al. (2004) who utilized a route construction methods already proposed in the literature, savings and insertion, to solve uncapacitated time dependent VRP with and without time windows. Fleischmann et al. tested their algorithms in instances created from Berlin travel time data. Jung and Haghani proposed a genetic algorithm to solve time dependent problems ( Jung and Haghani, 2001  and  Haghani and Jung, 2005 ). Using randomly generated test problems, the performance of the genetic algorithm was evaluated by comparing its results with exact solutions (up to 9 customers and 15 time periods) and a lower bound (up to 25 customers and 10 time periods). More recently Van Woensel et al. (2008) used a tabu search to solve the capacitated vehicle routing problem with time dependent travel times. To determine travel speed, approximations based on queuing theory and the volumes of vehicles in a link were used. Van Woensel et al. solved capacitated VRP (with no time windows) for problem sizes between 32 and 80 customers. Donati et al. (2008) proposed a solution adapting the ant colony heuristic approach and a local search improvement approach that stores and updates the slack times or feasible delays. The heuristic was tested using a real life network in Padua, Italy, and some variations of the Solomon problem set. The latest work includes a paper by Soler et al. (2009) who proposed a method to solve, optimally, TDVRP instances that are too small for practical purposes and likely exponential growth of computational time as a function of problem size. Dabia et al. (2010) deals with a one-vehicle vehicle routing problem using a dynamic programming approach. Kok (2010) deals with the TDVRP with a focus on departure time optimization and driver break scheduling. This work actually uses a modification of the set of benchmark instances for the VRP with time-dependent travel speeds proposed by an early working paper by Figliozzi (2009) . In addition to the work of Kok, only two papers use well known benchmark problems with time windows. Ichoua et al. (2003) used the widely known Solomon problems for the VRP with time windows. However, capacity constraints were not considered, optimal fleet size was given, and no details were provided regarding how links were associated with “categories” that represent differences in the urban network (i.e. main arteries, local streets, etc.). Donati et al. (2008) also used Solomon instances, however, the results cannot be compared with previous results by Ichoua et al. (2003) because a different time speed function was used and capacity constraints were considered. In addition, the exact instances used by Donati et al. (2008) cannot be reconstructed because the different travel speeds were randomly assigned to arcs. Therefore, no study published to date can be swiftly replicated and solution qualities and computation times cannot be compared.