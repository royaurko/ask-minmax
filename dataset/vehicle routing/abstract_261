Password: The vehicle routing problem (VRP) plays an important role in the distribution step of supply chains. From a depot with identical vehicles of limited capacity, it consists in determining a set of vehicle trips of minimum total length, to satisfy the demands of a set of customers. In general, the number of vehicles used is a decision variable. The heterogeneous fleet VRP (HFVRP or HVRP) is a natural generalization with several vehicle types, each type being defined by a capacity, a fixed cost, a cost per distance unit and a number of vehicles available. The vehicle fleet mix problem (VFMP) is a variant with an unlimited number of vehicles per type. This paper presents two memetic algorithms (genetic algorithms hybridized with a local search) able to solve both the VFMP and the HVRP. They are based on chromosomes encoded as giant tours, without trip delimiters, and on an optimal evaluation procedure which splits these tours into feasible trips and assigns vehicles to them. The second algorithm uses a distance measure in solution space to diversify the search. Numerical tests on standard VFMP and HFVRP instances show that the two methods, especially the one with distance measure, compete with published metaheuristics and improve several best-known solutions. Keywords Vehicle routing ; Heterogeneous fleet ; Fleet mix problem ; Memetic algorithm ; Distribution ; Metaheuristic 1. Introduction The vehicle routing problem (VRP) plays an important role in supply chains, where they often arise in the first transportation step (to collect agricultural products, for instance) or in the final distribution phase toward customers. While the travelling salesman problem (TSP) is perhaps the most famous single-vehicle problem, the VRP is the standard academic problem with several vehicles. The VRP can be defined on an undirected complete graph with one depot (node 0) and n customers indexed from 1 to n . A fleet of identical vehicles with limited capacity Q is based at the depot. Each customer has a known demand q i and a distance d ij is associated with each edge [ i , j ]. The goal is to design a set of trips of minimum total length to supply all customers. A trip is a cycle performed by one vehicle, starting and ending at the depot and visiting a subset of customers. Its total load must not exceed the vehicle capacity. Each customer must be visited by one single trip, i.e., split deliveries are not allowed. In general, the number of trips or vehicles used is not imposed, it is a decision variable. The VRP is NP-hard and the current best exact methods are still limited to 100 customers ( Fukasawa et al., 2006 ), explaining why larger instances require heuristics like constructive methods ( Laporte and Semet, 2002 ) or metaheuristics ( Cordeau et al., 2005 ). Recent surveys on the VRP can be found in Toth and Vigo (2002) and Cordeau et al. (2007) . The VRP is not very realistic, since most companies have heterogeneous fleets of vehicles. In the vehicle fleet mix problem (VFMP), the fleet is composed of t vehicle types. Each type k is defined by a capacity Q k , a fixed cost f k and a cost per distance unit v k , often called variable cost. A trip of length L done by a vehicle of type k has a cost f k + Lv k . The goal is to compute a set of trips and to assign vehicles to trips to minimize total cost. Like in the VRP, the number of vehicles of each type is not limited. The VFMP appears in situations where the fleet is not yet purchased: it combines tactical decisions (selecting the number of vehicles to be acquired) and operational ones (computing the trips and the vehicles assigned to them). The heterogeneous fleet VRP (HFVRP or HVRP) is a further generalization with a limited availability a k for each vehicle type k . The VFMP can be viewed as a particular HVRP with a k = n , since there are at most n trips (with one customer each). The VFMP and HVRP are obviously NP-hard, since they include the VRP as a special case. This paper is structured as follows. Section 2 clarifies the intricate history of VFMP and HVRP and provides bibliographic references. Components for memetic algorithms (MAs) able to tackle both the VFMP and the HVRP are described in Section 3 . Section 4 proposes two different MAs built from these basic bricks. In Section 5 , these metaheuristics are compared with published methods on standard instances from literature. 2. History of routing problems with heterogeneous fleets Contrary to the VRP, the literature on VFMP and HVRP is still scarce. It is also confusing, because many papers mentioning the HVRP deal in fact with the VFMP and use fixed costs or variable costs, but not both. This section tries to clarify history by considering three VFMP versions: with fixed costs only (VFMP-F: all f k ≠0 and all v k =1), with variable costs only (VFMP-V: all f k =0 but distinct v k values) and with both costs (VFMP-FV). If fixed and variable costs grow with vehicle capacity, the fleet is said to be correlated . Uncorrelated fleets are not rare: consider a vehicle type 1 with f 1 =10 and v 1 =1 and a more recent type 2 consuming less gasoline, with f 2 =15 and v 2 =5: type 2 becomes cheaper beyond 10 km. It is important to see that methods for correlated fleets are not always adaptable to the uncorrelated case. For instance, if the fleet is correlated, an improving exchange of two customers in a route is detected by a negative total length variation. The detection is more involved if the fleet is uncorrelated and if the vehicle may be changed. The VFMP with fixed costs (VFMP-F) was introduced by Golden et al. (1984) . These authors described greedy heuristics and proposed 20 instances with 12–100 customers and 3–6 vehicle types, reused by all other authors. Instances 1–12 have 12 or 30 customers. Instances 13–20 are larger, with 50–100 customers. Instances 1, 2 and 7–12 are defined by non-Euclidean distance matrices, without node coordinates. In all other instances, node coordinates are provided and the travel cost between two nodes corresponds to the Euclidean distance. Since many heuristics require node coordinates, to define clusters for instance, most authors reuse Euclidean instances 3–6 and 13–20 and discard the others. Osman and Salhi (1996) proposed the first metaheuristic for the VFMP-F, a tabu search (TS), and tested it on the 20 instances of Golden. Taillard (1999) developed a heuristic column generation (HCG) method: a tabu search requiring node coordinates is used to generate a large set of promising routes and a solution is obtained by solving a set partitioning problem whose columns correspond to these routes. Taillard discarded the smallest Euclidean instances (3–6), for which his tabu search produces too few columns. He also replaced fixed costs by variable costs in the other Euclidean VFMP-F files (13–20) to get eight new VFMP-V files. Finally, he built eight HVRP files by adding limited availabilities a k to these VFMP-V files. His paper provides results for the three kinds of problems. Two other tabu search heuristics were analyzed by Gendreau et al. (1999) and Wassan and Osman (2002) . Both papers report results for the VFMP-F instances of Golden (only instances 3–6 and 13–20 for Gendreau et al.) and for the 8 VFMP-V instances of Taillard. Renaud and Boctor (2002) elaborated constructive heuristics and improvement procedures for the VFMP-F, using the 20 Golden instances. Prins (2002) considered a special HVRP: vehicle types have distinct capacities and limited availabilities, but fixed and variable costs are absent: the objective function is the total length of the trips. He proposed constructive heuristics and a tabu search which can also tackle the multitrip case, i.e., each vehicle may perform several trips subject to a maximum range. The algorithms were tested on randomly generated instances and on a large real case with 775 customers. Tarantilis et al. (2003) designed a threshold accepting algorithm (TA) for the HVRP and provided an improved version in 2004. They used the eight HVRP instances from Taillard. Lima et al. (2004) published a MA for the VFMP-F. Compared to the TS procedures of Gendreau et al. (1999) and Wassan and Osman (2002) , this algorithm improves some best-known solutions to Golden's instances, at the expense of important running times on large instances (up to 49 min for 100 customers on a 2 GHz PC). Yaman (2006) described lower bounds (LBs) for the VFMP-F. Choi and Tcha (2007) proposed a better bound based on column generation and used in a branch-and-bound (B&B) algorithm for the Euclidean VFMP. They added variable costs to Euclidean instances 3–6 from Golden and gave results for the VFMP-F and VFMP-V. They also tackled for the first time fixed and variable cost, giving 12 VFMP-FV problems. The B&B never finds a proven optimum but achieves small deviations to the LB, between 0.2% and 4%. Li et al. (2007) published a record-to-record (RTR) travel metaheuristic for the HVRP. It outperforms the threshold accepting method of Tarantilis et al. (2004) on the eight HVRP instances from Taillard. Table 1 summarizes this complicated history and shows that no author has tackled the four problems. Only Taillard (1999) ; Tarantilis et al., 2003  and  Tarantilis et al., 2004 and Li et al. (2007) have studied a true HVRP, with a limited fleet. Only Golden et al. (1984) ; Renaud and Boctor (2002) ; Lima et al. (2004) and Choi and Tcha (2007) clearly indicate that a correlated fleet is assumed. In all other papers, all instances used have correlated fleets and there is no proof that the proposed solution methods could tackle uncorrelated fleets. Hence, our goal is to design effective MAs able to tackle the four problems, even when the fleet of vehicles is uncorrelated.