Password: The vehicle routing problem with simultaneous pickups and deliveries and time windows (VRP-SPDTW) is the problem of optimally integrating forward (good distribution) and reverse logistics (returning materials) for cost saving and environmental protection. We constructed a general mixed integer programming model of VRP-SPDTW. The model contained some classical vehicle routing problems as special cases. We proposed an improved differential evolution algorithm (IDE) for solving this problem. In the algorithm, we firstly adopted the novel decimal coding to construct an initial population, then used some improved differential evolution operators unlike the existing algorithm, and in mutation operation, we used an integer order criterion based on natural number coding method. We introduced a penalty technical to publish the infeasible solution. In addition, in the crossover operation, we designed a self-adapting crossover probability that varied with iteration. We did some numerical experiments, and the results showed that the proposed method is effective for solving VRP-SPDTW. Keywords Reverse logistics ; Distribution management ; VRP-SPDTW ; Improved differential evolution (IDE) ; Integer programming ; Optimization 1. Introduction Reverse logistics can be defined as the reverse process of logistics. The Council of Logistics Management (CLM) defines reverse logistics as “The process of planning, implementing, and controlling the efficient, cost effective flow of raw materials, in-process inventory, finished goods and related information from the point of consumption to the point of origin for the purpose of recapturing value or proper disposal” ( Stock, 1992 ). In the process of logistics or reverse logistics, they refer to many program problems, and the traveling salesman problem (TSP) and the vehicle routing problem (VRP) are the famous problems. they are considered the most successful areas in Operations Research in the past decades. In the framework of integrating logistics and reverse logistics, classical routing problems such as TSP and VRP must be take into account simultaneously both good distribution and returning materials. The vehicle routing problem with simultaneous pickups and deliveries (VRP-SPD) is a variant of the classical vehicle routing problem (VRP) where customers require simultaneous delivery and pick-up service. Deliveries are supplied from a single depot at the beginning of the vehicle's service, while pick-up loads are taken to the same depot at the conclusion of the service. One important characteristic of this problem is that a vehicle's load in any given route is a mix of delivery and pick-up loads. The objective of the problem is to minimize the number of vehicles and/or the total distance to service all customers, without violating the vehicle capacity and traveling distance constraints. With the implementation of the JIT (just in time) strategy recently, many enterprises realize keeping lower inventory level is their very important target. So the enterprises pay more attention to the arrival time of freight, and they realize that the reasonable time windows of freight arrived can help enterprises to reduce inventory cost, improve operation efficiency, and enhance customer satisfaction comprehensively. In this paper, we consider a variant of the VRP-SPD where each customer must be serviced within a specified time interval (or time window). The lower and upper bounds of the time window define the earliest and latest time for the beginning of service at the customer. Hence, a vehicle is not allowed to begin service at a customer location after its time window's upper time. Moreover, if a vehicle reaches a customer before the lower bound it waits. Each customer also has a specified service time which is the time spent by the vehicle to load or unload the goods. Hence, the total route time of a vehicle is the sum of travel time (which is proportional to the distance traveled), waiting time and service time. The total route distance should not exceed the maximum route distance of the vehicle. When all customers are line hauls (or backhauls), the vehicle routing problem with simultaneous pickups and deliveries and time windows (VRP-SPDTW) reduces to the vehicle routing problem with time windows (VRPTW). In Savelsbergh (1985) , it is shown that finding a feasible solution to the traveling salesman problem with time windows (TSPTW) is NP-complete. Therefore, finding a feasible solution to the VRP-SPDTW with a fixed number of vehicles is also NP-complete, since this problem is even more complex than the TSPTW. VRP-SPDTW often appears in practice, and it has broad prospects in theory and practice. For example in the soft drink industry, empty bottles must be returned, in the delivery to grocery stores, reusable pallets/containers are used for the transportation of merchandise, and each customer is serviced by exactly one vehicle within its time windows. Reverse logistics is an important area in which the planning of vehicle routes takes the form of VRP-SPDTW, as companies become interested in gaining control over the whole lifecycle of their products. For example, in some countries legislation forces companies to take responsibility for their products during lifetime, especially when environmental issue are involved (as in the disposal of laser printers’ cartridges). Returned goods are another example where the definition of vehicle routes may take the form of a VRP-SPDTW. Owing to difficulty of the problem itself and deficiency of attention, even now very little work can be found in this area. Angelelli and Mansini (2003) presented an exact algorithm for the VRPSPDTW. The authors have proposed a branch-and-price procedure based on a set covering formulation for the master problem. Results with the use of different pricing and branching strategies on instances with 20 customers and up to five vehicles are presented. To the best of our knowledge, there are no correlative reports on adopting metehuristics to solve VRP-SPDTW. In this paper, we attempt to use improved differential evolution to solve this problem. The VRP-SPDTW has received sparse attention in the literature compared to the VRP. There exist, however, abundant references related to vehicle routing problem with pickups and deliveries. In pickups and deliveries problem (PDP) situation transportation requests have to be carried out, where the origin as well as the destination of each of these requests can be and typically are locations other than the depot. There is a review of papers on a wider class of pickups and deliveries problems and some give a different classification compared to the classifications of Savelsbergh and Sol (1995) . More recently, Gerardo Berbeglia et al. (2007) presented a general framework to model static pickup and delivery problems and introduced a three-field classification scheme and survey. They introduced the relative research development on VRP-SPD in their reviews. Mosheiov (1998) considered PDP with divisible demands, in which each customer can be served by more than one vehicle, and presented greedy constructive algorithms based on tour partitioning. Nagy and Salhi (2005) presented a number of heuristics for PDP with single and multiple depots. Moreover, there exist a few references related to vehicle routing problem with pickups and deliveries with time windows (VRPPDTW), but simultaneously pickup and delivery was not considered. Ropke et al. (2007) proposed models and also a branch-and-cut algorithm for VRPPDTW. Ropke and Pisinger (2006) adopted an adaptive large neighborhood search heuristic for VRPPDTW. There are theoretical relationships between these problems and VRP-SPDTW and it is possible to transform VRP-SPDTW into other routing problems. The PDP is an extensive generalization of the VRP-SPD. The VRP-SPD is the very special case of the PDP, where either the origin or the destination of each transport request is the depot and, in addition, transport requests only occur pair wise, to and from the same customer. The VRP-SPDTW itself is a generalization of the VRPPDTW. The VRPPDTW can be considered as a special case of the VRP-SPDTW where either the delivery demand or the pickup demand of each customer equals zero. Problem-solving methodologies for the VRP-SPD are mostly derived from previous work done on the VRP. Surveys on classifications and applications of the VRP can be found in Dantzing and Ramser (1959) , Laporte (1992) , Osman (1993) and Fisher (1995) . For the VRP-SPD, Min (1989) firstly introduced the VRP-SPD, subsequently, for more than 10 years, no correlative report until logistics gained importance. Dethloff (2001) studied the problem from the reverse logistics point of view, and developed insertion-based heuristics that use four different criteria to solve the problem. [14]  and  [15] proposed an alternative mathematical formulation for VRP-SPD, and presented a tabu search algorithm for this problem. Dell'Amico et al. (2006) have developed an exact branch-and-price algorithm for the VRPSPD. In order to reduce the computing time of the pricing problem, the authors have designed an upper-bounding heuristic and a lower-bounding procedure based on state-space relaxation. Their algorithm was able to optimally solve instances of up to 40 customers and 22 vehicles within one hour of computing time. In recent years, most published research for the VRP-SPD focused on the development of heuristics. Nicola and Giovanni (2007) presented and compared constructive algorithms, local search algorithms and tabu search algorithms for VRP-SPD. Alshamrani et al. (2007) considered the route design-pickup strategy planning problem of blood distribution of the American Red Cross as the VRP-SPD, and developed a heuristics for this problem.