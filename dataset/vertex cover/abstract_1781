We address the effect of band filling on the effective electron mass $m^*$
and the superconducting critical temperature $T_c$ in a electron-phonon system.
We compare the vertex corrected theory with the non-crossing approximation of
the Holstein model within a local approximation. We identify two regions of the
electron density where $m^*$ and $T_c$ are enhanced or decreased by the
inclusion of the vertex diagrams. We show that the crossover between the
enhancement at low density and the decrease towards half filling is almost
independent of the microscopic electron-phonon parameters. These different
behaviors are explained in terms of the net sign of the vertex diagrams which
is positive at low densities and negative close to half filling. Predictions of
the present theory for doped MgB$_2$, which is argued to be in the low density
regime, are discussed.