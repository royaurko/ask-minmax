We study irreducible representations for the Lie algebra of vector fields on
a 2-dimensional torus constructed using the generalized Verma modules. We show
that for a certain choice of parameters these representations remain
irreducible when restricted to a loop subalgebra in the Lie algebra of vector
fields. We prove this result by studying vertex algebras associated with the
Lie algebra of vector fields on a torus and solving non-commutative
differential equations that we derive using the vertex algebra technique.