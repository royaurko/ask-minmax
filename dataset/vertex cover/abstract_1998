Locally triangular graphs are known to be halved graphs of bipartite
rectagraphs, which are connected triangle-free graphs in which every $2$-arc
lies in a unique quadrangle. A graph $\Gamma$ is locally rank 3 if there exists
$G\leq \mathrm{Aut}(\Gamma)$ such that for each vertex $u$, the permutation
group induced by the vertex stabiliser $G_u$ on the neighbourhood $\Gamma(u)$
is transitive of rank 3. One natural place to seek locally rank 3 graphs is
among the locally triangular graphs, where every induced neighbourhood graph is
isomorphic to a triangular graph $T_n$. This is because the graph $T_n$, which
has vertex set the $2$-subsets of $\{1,\ldots,n\}$ and edge set the pairs of
$2$-subsets intersecting at one point, admits a rank 3 group of automorphisms.
In this paper, we classify the locally $4$-homogeneous rectagraphs under some
additional structural assumptions. We then use this result to classify the
connected locally triangular graphs that are also locally rank 3.