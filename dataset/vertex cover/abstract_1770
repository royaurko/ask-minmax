We present a diagrammatic approach to construct self-energy approximations
within many-body perturbation theory with positive spectral properties. The
method cures the problem of negative spectral functions which arises from a
straightforward inclusion of vertex diagrams beyond the GW approximation. Our
approach consists of a two-steps procedure: we first express the approximate
many-body self-energy as a product of half-diagrams and then identify the
minimal number of half-diagrams to add in order to form a perfect square. The
resulting self-energy is an unconventional sum of self-energy diagrams in which
the internal lines of half a diagram are time-ordered Green's functions whereas
those of the other half are anti-time-ordered Green's functions, and the lines
joining the two halves are either lesser or greater Green's functions. The
theory is developed using noninteracting Green's functions and subsequently
extended to self-consistent Green's functions. Issues related to the conserving
properties of diagrammatic approximations with positive spectral functions are
also addressed. As a major application of the formalism we derive the minimal
set of additional diagrams to make positive the spectral function of the GW
approximation with lowest-order vertex corrections and screened interactions.
The method is then applied to vertex corrections in the three-dimensional
homogeneous electron gas by using a combination of analytical frequency
integrations and numerical Monte-Carlo momentum integrations to evaluate the
diagrams.