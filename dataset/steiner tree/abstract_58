We consider the problem of designing network cost-sharing protocols with good
equilibria under uncertainty. The underlying game is a multicast game in a
rooted undirected graph with nonnegative edge costs. A set of k terminal
vertices or players need to establish connectivity with the root. The social
optimum is the Minimum Steiner Tree. We are interested in situations where the
designer has incomplete information about the input. We propose two different
models, the adversarial and the stochastic. In both models, the designer has
prior knowledge of the underlying metric but the requested subset of the
players is not known and is activated either in an adversarial manner
(adversarial model) or is drawn from a known probability distribution
(stochastic model).
  In the adversarial model, the designer's goal is to choose a single,
universal protocol that has low Price of Anarchy (PoA) for all possible
requested subsets of players. The main question we address is: to what extent
can prior knowledge of the underlying metric help in the design? We first
demonstrate that there exist graphs (outerplanar) where knowledge of the
underlying metric can dramatically improve the performance of good network
design. Then, in our main technical result, we show that there exist graph
metrics, for which knowing the underlying metric does not help and any
universal protocol has PoA of $\Omega(\log k)$, which is tight. We attack this
problem by developing new techniques that employ powerful tools from extremal
combinatorics, and more specifically Ramsey Theory in high dimensional
hypercubes.
  Then we switch to the stochastic model, where each player is independently
activated. We show that there exists a randomized ordered protocol that
achieves constant PoA. By using standard derandomization techniques, we produce
a deterministic ordered protocol with constant PoA.