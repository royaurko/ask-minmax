We present a new version of our code for modeling the atmospheric circulation
on gaseous exoplanets, now employing a "double-gray" radiative transfer scheme,
which self-consistently solves for fluxes and heating throughout the
atmosphere, including the emerging (observable) infrared flux. We separate the
radiation into infrared and optical components, each with its own absorption
coefficient, and solve standard two-stream radiative transfer equations. We use
a constant optical absorption coefficient, while the infrared coefficient can
scale as a powerlaw with pressure. Here we describe our new code in detail and
demonstrate its utility by presenting a generic hot Jupiter model. We discuss
issues related to modeling the deepest pressures of the atmosphere and describe
our use of the diffusion approximation for radiative fluxes at high optical
depths. In addition, we present new models using a simple form for magnetic
drag on the atmosphere. We calculate emitted thermal phase curves and find that
our drag-free model has the brightest region of the atmosphere offset by ~12
degrees from the substellar point and a minimum flux that is 17% of the
maximum, while the model with the strongest magnetic drag has an offset of only
~2 degrees and a ratio of 13%. Finally, we calculate rates of numerical loss of
kinetic energy at ~15% for every model except for our strong-drag model, where
there is no measurable loss; we speculate that this is due to the much
decreased wind speeds in that model.