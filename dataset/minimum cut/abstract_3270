A proper-motion separation of M4 members from field stars, using deep HST
observations separated by a time base-line of 5 years, allows us to study a
pure sample of cluster main-sequence stars almost to the minimum mass for
hydrogen burning. High-precision photometry shows how badly current theoretical
models fail to reproduce the color-magnitude diagram of low-mass stars of
moderate metallicity ([M/H] ~ -1). This inability of theory to reproduce the
luminosity-radius relation casts doubt on the theoretical mass-luminosity
relation, which is needed to convert the observed luminosity function (LF) into
a mass function (MF), as well as to convert our locally determined LF into a
global MF. To the extent that we trust theoretical M-L relations for such
transformations, we obtain a flat MF from the LF, and some indication that
theoretical masses might be too low at a given luminosity, near the H-burning
limit.