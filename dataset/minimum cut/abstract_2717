We present a reduction pipeline for CCD (charge-coupled device) images which
was built to search for variable sources in highly crowded fields like the M31
bulge and to handle extensive databases due to large time series. We describe
all steps of the standard reduction in detail with emphasis on the realisation
of per pixel error propagation: Bias correction, treatment of bad pixels,
flatfielding, and filtering of cosmic rays. The problems of conservation of PSF
(point spread function) and error propagation in our image alignment procedure
as well as the detection algorithm for variable sources are discussed: We build
difference images via image convolution with a technique called OIS (Alard &
Lupton, 1998), proceed with an automatic detection of variable sources in noise
dominated images and finally apply a PSF-fitting, relative photometry to the
sources found. For the WeCAPP project (Riffeser et al., 2001) we achieve 3
sigma detections for variable sources with an apparent brightness of e.g. m =
24.9 mag at their minimum and a variation of dm = 2.4 mag (or m = 21.9 mag
brightness minimum and a variation of dm = 0.6 mag) on a background signal of
18.1 mag/arcsec^2 based on a 500 s exposure with 1.5 arcsec seeing at a 1.2 m
telescope. The complete per pixel error propagation allows us to give accurate
errors for each measurement.