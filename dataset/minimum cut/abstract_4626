The equations of motion for electromechanical systems are traced back to the
fundamental Lagrangian of particles and electromagnetic fields, via the Darwin
Lagrangian. When dissipative forces can be neglected the systems are
conservative and one can study them in a Hamiltonian formalism. The central
concepts of generalized capacitance and inductance coefficients are introduced
and explained. The problem of gauge independence of self-inductance is
considered. Our main interest is in magnetomechanics, i.e. the study of systems
where there is exchange between mechanical and magnetic energy. This throws
light on the concept of magnetic energy, which according to the literature has
confusing and peculiar properties. We apply the theory to a few simple
examples: the extension of a circular current loop, the force between parallel
wires, interacting circular current loops, and the rail gun. These show that
the Hamiltonian, phase space, form of magnetic energy has the usual property
that an equilibrium configuration corresponds to an energy minimum.