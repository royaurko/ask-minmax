Given an arbitrary monic polynomial $f$ over a field $F$ of characteristic 0,
we use companion matrices to construct a polynomial $M_f\in F[X]$ of minimum
degree such that for each root $\alpha$ of $f$ in the algebraic closure of $F$,
$M_f(\alpha)$ is equal to the multiplicity $m(\alpha)$ of $\alpha$ as a root of
$f$. As an application of $M_f$ we give a new method to compute in $F[X]$ each
component of the square-free factorization $f=P_1P_2^2\cdots P_m^m$, where
$P_k$ is the product of all $X-\alpha$ with $m(\alpha)=k$, for $k=1, \dots,
m=\max m(\alpha)$.