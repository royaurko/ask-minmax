The Hamiltonian flow of the standard metric Hamiltonian with respect to the
twisted symplectic structure on the cotangent bundle describes the motion of a
charged particle on the base. We prove that under certain natural hypotheses
the number of periodic orbits on low energy levels for this flow is at least
the sum of Betti numbers of the base.
  The problem is closely related to the existence question for periodic orbits
on energy levels of a proper Hamiltonian near a Morse-Bott non-degenerate
minimum. In this case, when some extra requirements are met, we also give a
lower bound for the number of periodic orbits. Both of these questions are very
similar to the Weinstein conjecture but differ from it in that the energy
levels may fail to have contact type.
  We show that the bounded sets in the cotangent bundle to the torus, with a
twisted symplectic structure, have finite Hofer-Zehnder capacity. As a
consequence, we obtain the existence of periodic orbits on almost all energy
levels for magnetic fields on tori.