In energy harvesting communication systems, an exogenous recharge process
supplies energy for the data transmission and arriving energy can be buffered
in a battery before consumption. Transmission is interrupted if there is not
sufficient energy. We address communication with such random energy arrivals in
an information-theoretic setting. Based on the classical additive white
Gaussian noise (AWGN) channel model, we study the coding problem with random
energy arrivals at the transmitter. We show that the capacity of the AWGN
channel with stochastic energy arrivals is equal to the capacity with an
average power constraint equal to the average recharge rate. We provide two
different capacity achieving schemes: {\it save-and-transmit} and {\it
best-effort-transmit}. Next, we consider the case where energy arrivals have
time-varying average in a larger time scale. We derive the optimal offline
power allocation for maximum average throughput and provide an algorithm that
finds the optimal power allocation.