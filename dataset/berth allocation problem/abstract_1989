We describe and partially solve a natural Yamabe-type problem on smooth
metric measure spaces which interpolates between the Yamabe problem and the
problem of finding minimizers for Perelman's $\nu$-entropy. This problem
reduces in all dimensions on Euclidean space to the characterization of the
minimizers of the family of Gagliardo--Nirenberg--Sobolev inequalities studied
by Del Pino and Dolbeault. We show that minimizers always exist on a compact
manifold provided the so-called weighted Yamabe constant is strictly less than
its value on Euclidean space. We also show that strict inequality holds for a
large class of smooth metric measure spaces, but we will also give an example
which shows that minimizers of the weighted Yamabe constant do not always
exist.