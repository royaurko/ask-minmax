Shapley and Scarf introduced a notion of stable allocation between traders
and indivisible goods, when each trader has rank-ordered each of the goods. The
purpose of this note is to prove that the distribution of ranks after
allocation is the same as the distribution of search distances in uniform
hashing, when the rank-orderings are independent and uniformly random.
Therefore the average sum of final ranks is just $(n+1)H_n-n$, and the standard
deviation is O(n). The proof involves a family of interesting one-to-one
correspondences between permutations of a special kind.