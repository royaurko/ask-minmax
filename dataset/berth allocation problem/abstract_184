In this paper, we consider a multi-pair two-way amplify-and-forward (AF)
relaying system where multiple sources exchange information via a relay node
equipped with large-scale arrays. Supposing that channel estimation is
non-ideal, and that the relay employs either maximum-ratio
combining/maximum-ratio transmission (MRC/MRT) or zero-forcing
reception/zero-forcing transmission (ZFR/ZFT) beamforming to process the
signals, we derive two corresponding closed-form lower bound expressions for
the ergodic achievable rate of each pair. The closed-form expressions enable us
to design optimal power allocation (OPA) schemes by formulating different
optimization problems to improve system performance, such as minimizing the
total user power consumption to prolong the lifetime of battery-powered
devices, considering fairness among different users by adopting the max-min
achievable rate criterion, or maximizing the sum spectral efficiency, under
certain practical constraints. Our proposed OPA schemes are based on either
linear or geometric programming, which can be solved by optimization tools. The
derived closed-form expressions for the achievable rate are verified to be
accurate predictors of the system performance by Monte-Carlo simulations.
Furthermore, numerical results demonstrate the effectiveness of the proposed
OPAs in comparison to the equal power allocation schemes.