In this paper, we analyze a composite decode-and-forward scheme for the
two-way relay channel with a direct link. During transmission, our scheme
combines both block Markov coding and an independent coding scheme similar to
network coding at the relay. The main contribution of this work is to examine
how link state impacts the allocation of power between these two distinct
techniques, which in turn governs the necessity of each technique in achieving
the largest transmission rate region. We analytically determine the link-state
regimes and associated relaying techniques. Our results illustrate an
interesting trend: when the user-to-relay link is marginally stronger than the
direct link, it is optimal to use only independent coding. In this case, the
relay need not use full power. However, for larger user-to-relay link gains,
the relay must supplement independent coding with block Markov coding to
achieve the largest rate region. These link-state regimes are important for the
application of two-way relaying in 5G networks, such as in D2D mode or
relay-aided transmission.