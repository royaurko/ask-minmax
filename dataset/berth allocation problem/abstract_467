We study the approximate message-passing decoder for sparse superposition
coding on the additive white Gaussian noise channel and extend our preliminary
work. While this coding scheme asymptotically reach the Shannon capacity, we
show that our iterative decoder is limited by a phase transition similar to
what happen in LDPC codes. We present and study two solutions to this problem,
that both allow to reach the Shannon capacity: i) a non constant power
allocation and ii) the use of spatially coupled codes. We also present
extensive simulations that suggest that spatial coupling is more robust and
allows for better reconstruction at finite code lengths. Finally, we show
empirically that the use of a fast Hadamard-based operator allows for an
efficient reconstruction, both in terms of computational time and memory, and
the ability to deal with large signals.