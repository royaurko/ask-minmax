In this paper, we consider a system in which multiple users communicate with
a destination with the help of multiple half-duplex relays. Based on the
compute-and-forward scheme, each relay, instead of decoding the users'
messages, decodes an integer-valued linear combination that relates the
transmitted messages. Then, it forwards the linear combination towards the
destination. Given these linear combinations, the destination may or may not
recover the transmitted messages since the linear combinations are not always
full rank. Therefore, we propose an algorithm where we optimize the precoding
factor at the users such that the probability that the equations are full rank
is increased and that the transmission rate is maximized. We show, through some
numerical examples, the effectiveness of our algorithm and the advantage of
performing precoding allocation at the users. Also, we show that this scheme
can outperform standard relaying techniques in certain regimes.